{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue?vue&type=template&id=7de22f82&scoped=true","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue","mtime":1655214403378},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPCEtLeivpue7huaPj+i/sC0tPgogIDxkaXYgY2xhc3M9ImRGIj4KICAgIDxlbC1kZXNjcmlwdGlvbnMKICAgICAgICBjbGFzcz0ibWFyZ2luLXRvcCIKICAgICAgICB0aXRsZT0i5p2D6ZmQ5L+h5oGvIgogICAgICAgIGRpcmVjdGlvbj0idmVydGljYWwiCiAgICAgICAgOmNvbHVtbj0iMSIKICAgICAgICBib3JkZXI+CiAgICAgIDx0ZW1wbGF0ZSAjZXh0cmE+CiAgICAgICAgPGVsLWJ1dHRvbiBAY2xpY2s9InJlcXVlc3RUb0FkbWluKCkiIHR5cGU9InByaW1hcnkiPueUs+ivt+aIkOS4uueuoeeQhuWRmDwvZWwtYnV0dG9uPgogICAgICA8L3RlbXBsYXRlPgogICAgICA8ZWwtZGVzY3JpcHRpb25zLWl0ZW0+CiAgICAgICAgPHRlbXBsYXRlICNsYWJlbD4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNlbGwtaXRlbSI+CiAgICAgICAgICAgIDxlbC1pY29uPgogICAgICAgICAgICAgIDx1c2VyIC8+CiAgICAgICAgICAgIDwvZWwtaWNvbj4KICAgICAgICAgICAg5b2T5YmN6KeS6ImyCiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3RlbXBsYXRlPgogICAgICAgIDxlbC10YWcgc2l6ZT0iYmlnIj48c3BhbiBpZD0icm9sZSI+PC9zcGFuPjwvZWwtdGFnPgogICAgICA8L2VsLWRlc2NyaXB0aW9ucy1pdGVtPgogICAgPC9lbC1kZXNjcmlwdGlvbnM+CiAgPC9kaXY+CiAgPCEtLeeUs+ivt+W8ueeqly0tPgogIDxlbC1kaWFsb2cgdi1tb2RlbD0iZGlhbG9nRm9ybVZpc2libGVGb3JSZXF1ZXN0IiB0aXRsZT0i566h55CG5ZGY55Sz6K+3Ij4KICAgIDxzcGFuPuaYr+WQpuehruiupOeUs+ivt+aIkOS4uueuoeeQhuWRmO+8nzwvc3Bhbj4KICAgIDx0ZW1wbGF0ZSAjZm9vdGVyPgogICAgICA8c3BhbiBjbGFzcz0iZGlhbG9nLWZvb3RlciI+CiAgICAgICAgPGVsLWJ1dHRvbiBAY2xpY2s9ImRpYWxvZ0Zvcm1WaXNpYmxlRm9yUmVxdWVzdCA9IGZhbHNlIj7lj5bmtog8L2VsLWJ1dHRvbj4KICAgICAgICA8ZWwtYnV0dG9uIHR5cGU9InByaW1hcnkiIEBjbGljaz0iY29uZm9ybVJlcXVlc3QoKSI+56Gu5a6aPC9lbC1idXR0b24+CiAgICAgIDwvc3Bhbj4KICAgIDwvdGVtcGxhdGU+CiAgPC9lbC1kaWFsb2c+Cg=="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue"],"names":[],"mappings":"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","file":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue","sourceRoot":"","sourcesContent":["<template>\n  <!--详细描述-->\n  <div class=\"dF\">\n    <el-descriptions\n        class=\"margin-top\"\n        title=\"权限信息\"\n        direction=\"vertical\"\n        :column=\"1\"\n        border>\n      <template #extra>\n        <el-button @click=\"requestToAdmin()\" type=\"primary\">申请成为管理员</el-button>\n      </template>\n      <el-descriptions-item>\n        <template #label>\n          <div class=\"cell-item\">\n            <el-icon>\n              <user />\n            </el-icon>\n            当前角色\n          </div>\n        </template>\n        <el-tag size=\"big\"><span id=\"role\"></span></el-tag>\n      </el-descriptions-item>\n    </el-descriptions>\n  </div>\n  <!--申请弹窗-->\n  <el-dialog v-model=\"dialogFormVisibleForRequest\" title=\"管理员申请\">\n    <span>是否确认申请成为管理员？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForRequest = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformRequest()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport User from \"@element-plus/icons/lib/User\";\nimport request from \"../../utils/request\";\nimport $ from '../../assets/js/jquery-3.6.0';\nimport {ElMessage} from \"element-plus\";\nlet userEmail;\nlet role;\n\nexport default {\n  name: \"RequestToAdmin\",\n  components: {\n    User,\n  },\n  data() {\n    return {\n      dialogFormVisibleForRequest: false\n    }\n  },\n  methods: {\n    //申请成为管理员\n    requestToAdmin() {\n      if (role===0) {\n        this.dialogFormVisibleForRequest = true\n      }else if (role===1) {\n        ElMessage({\n          type: 'warning',\n          message: '您已是管理员'\n        })\n      }else if (role===2) {\n        ElMessage({\n          type: 'warning',\n          message: '您已是管理员'\n        })\n      }else {\n        ElMessage({\n          type: 'warning',\n          message: '审核中，请耐心等待'\n        })\n      }\n    },\n    //确认申请\n    conformRequest() {\n      request.post(\"/user/changeUserToAdminForRequest\",userEmail).then(res =>{\n        ElMessage({\n          type: 'success',\n          message: '已提交申请，请耐心等待'\n        })\n        this.loadData()\n        this.dialogFormVisibleForRequest = false\n      })\n    },\n    //加载数据\n    loadData() {\n      let email = sessionStorage.getItem(\"userEmail\")\n      let reg = new RegExp('\"', \"g\");\n      userEmail = email.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n      request.post(\"/user/getRole\",userEmail).then(res =>{\n        role = res.data\n        if (role===0) {\n          $('#role').html(\"用户\");\n        }else if (role===1) {\n          $('#role').html(\"管理员\");\n        }else if (role===2) {\n          $('#role').html(\"超级管理员\");\n        }else {\n          $('#role').html(\"待审核的管理员\");\n        }\n      })\n    }\n  },\n  created() {\n    this.loadData()\n  }\n}\n</script>\n\n<style scoped>\n.dF{\n  width: 60%;position: absolute;left: 15%;right: 5%;margin-top: 120px;\n}\n</style>"]}]}