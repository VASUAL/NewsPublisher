{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/PublishNews.vue?vue&type=template&id=f53f4410&scoped=true","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/PublishNews.vue","mtime":1643009980000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iZEYiPgogICAgPGVsLWZvcm0KICAgICAgICByZWY9InJ1bGVGb3JtIgogICAgICAgIDptb2RlbD0icnVsZUZvcm0iCiAgICAgICAgOnJ1bGVzPSJydWxlcyIKICAgICAgICBsYWJlbC13aWR0aD0iODBweCIKICAgICAgICBjbGFzcz0iZGVtby1ydWxlRm9ybSI+CiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9Iuagh+mimCIgcHJvcD0iaGVhZGxpbmUiPgogICAgICAgIDxlbC1pbnB1dCB2LW1vZGVsPSJydWxlRm9ybS5oZWFkbGluZSI+PC9lbC1pbnB1dD4KICAgICAgPC9lbC1mb3JtLWl0ZW0+CiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuaXpeacnyIgcmVxdWlyZWQ+CiAgICAgICAgPGVsLWNvbCA6c3Bhbj0iMTEiPjxlbC1mb3JtLWl0ZW0gcHJvcD0iZGF0ZSI+PGVsLWRhdGUtcGlja2VyIHYtbW9kZWw9InJ1bGVGb3JtLmRhdGUiIHR5cGU9ImRhdGUiIHBsYWNlaG9sZGVyPSLor7fpgInmi6nml6XmnJ8iIHN0eWxlPSJ3aWR0aDogMTAwJSI+PC9lbC1kYXRlLXBpY2tlcj48L2VsLWZvcm0taXRlbT48L2VsLWNvbD4KICAgICAgPC9lbC1mb3JtLWl0ZW0+CiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9Iuadv+WdlyIgcHJvcD0idHlwZSI+CiAgICAgICAgPGVsLXNlbGVjdCB2LW1vZGVsPSJydWxlRm9ybS50eXBlIiBwbGFjZWhvbGRlcj0i6K+36YCJ5oup5p2/5Z2XIiBjbGFzcz0iZWwxIj4KICAgICAgICAgIDxlbC1vcHRpb24KICAgICAgICAgIHYtZm9yPSJpdGVtIGluIGxpc3RzIgogICAgICAgICAgOmtleT0iaXRlbS5uYW1lIgogICAgICAgICAgOmxhYmVsPSJpdGVtLm5hbWUiCiAgICAgICAgICA6dmFsdWU9Iml0ZW0ubmFtZSI+CiAgICAgICAgICA8L2VsLW9wdGlvbj4KICAgICAgICA8L2VsLXNlbGVjdD4KICAgICAgPC9lbC1mb3JtLWl0ZW0+CiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuWGheWuuSIgcHJvcD0iY29udGVudCI+CiAgICAgICAgPCEtLeWvjOaWh+acrOe8lui+keWZqC0tPgogICAgICAgIDxkaXYgaWQ9ImRpdjEiPgogICAgICAgIDwvZGl2PgogICAgICA8L2VsLWZvcm0taXRlbT4KICAgICAgPGVsLWZvcm0taXRlbSBzdHlsZT0iZGlzcGxheTpibG9jazsiPgogICAgICAgIDxlbC1idXR0b24gdHlwZT0icHJpbWFyeSIgQGNsaWNrPSJzdWJtaXRGb3JtKCdydWxlRm9ybScpIiBjbGFzcz0iZWwyIj7lj5HluIM8L2VsLWJ1dHRvbj4KICAgICAgICA8ZWwtYnV0dG9uIEBjbGljaz0icmVzZXRGb3JtKCdydWxlRm9ybScpIiBjbGFzcz0iZWwzIj7ph43nva48L2VsLWJ1dHRvbj4KICAgICAgPC9lbC1mb3JtLWl0ZW0+CiAgICA8L2VsLWZvcm0+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/PublishNews.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/PublishNews.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"dF\">\n    <el-form\n        ref=\"ruleForm\"\n        :model=\"ruleForm\"\n        :rules=\"rules\"\n        label-width=\"80px\"\n        class=\"demo-ruleForm\">\n      <el-form-item label=\"标题\" prop=\"headline\">\n        <el-input v-model=\"ruleForm.headline\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"日期\" required>\n        <el-col :span=\"11\"><el-form-item prop=\"date\"><el-date-picker v-model=\"ruleForm.date\" type=\"date\" placeholder=\"请选择日期\" style=\"width: 100%\"></el-date-picker></el-form-item></el-col>\n      </el-form-item>\n      <el-form-item label=\"板块\" prop=\"type\">\n        <el-select v-model=\"ruleForm.type\" placeholder=\"请选择板块\" class=\"el1\">\n          <el-option\n          v-for=\"item in lists\"\n          :key=\"item.name\"\n          :label=\"item.name\"\n          :value=\"item.name\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"内容\" prop=\"content\">\n        <!--富文本编辑器-->\n        <div id=\"div1\">\n        </div>\n      </el-form-item>\n      <el-form-item style=\"display:block;\">\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" class=\"el2\">发布</el-button>\n        <el-button @click=\"resetForm('ruleForm')\" class=\"el3\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nimport {ElMessage} from \"element-plus\";\nimport E from 'wangeditor'\n\nlet editor;\nexport default {\n  name: \"PublishNews\",\n  data() {\n    return {\n      ruleForm: {\n        headline: '',\n        author: '',\n        content: '',\n        date: '',\n        type: '',\n        click: 0,\n        comment: 0,\n        first: 0\n      },\n      rules: {\n        headline:[\n          {\n            required: true,\n            message: '请输入标题',\n            trigger: 'blur',\n          },\n        ],\n        date: [\n          {\n            type: 'date',\n            required: true,\n            message: '请选择日期',\n            trigger: 'change',\n          },\n        ],\n        type: [\n          {\n            required: true,\n            message: '请选择板块',\n            trigger: 'change',\n          },\n        ],\n      },\n      lists: [\n\n      ],\n    }\n  },\n  methods: {\n    //重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n      editor.txt.html(\"\")\n    },\n    //提交表单\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {    //如果表单不空\n          if (editor.txt.html()===''||editor.txt.html()===\"\") {\n            ElMessage({\n              type: 'warning',\n              message: '请输入内容'\n            })\n          }else {\n            this.ruleForm.content = editor.txt.html()\n            request.post(\"/news/publishNews\",this.ruleForm).then(res =>{\n              ElMessage({\n                type: 'success',\n                message: '发布成功'\n              })\n              this.resetForm(formName)\n            })\n          }\n        } else {        //如果表单为空\n          return false\n        }\n      })\n    },\n    //加载数据\n    load() {\n      let userEmail = sessionStorage.getItem(\"userEmail\")\n      let reg = new RegExp('\"', \"g\");\n      let newStr = userEmail.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n      this.ruleForm.author = newStr\n      //加载下拉列表数据\n      request.post(\"/type/getAllType\").then(res =>{\n        this.lists = res.data\n      })\n      //加载富文本编辑器\n      this.$nextTick(() => {\n        editor = new E('#div1')\n        editor.config.zIndex = 500\n        editor.create()\n      })\n    },\n  },\n  created() {\n    this.load()\n  }\n}\n</script>\n\n<style scoped>\n.dF{\n  width: 70%;position: absolute;left: 10%;right: 20%;margin-top: 20px;\n}\n.el-col-11[data-v-f53f4410]{\n  max-width: 100%;width: 100%;\n}\n.el1{\n  width: 100%;\n}\n.el2{\n  width: 40%;\n}\n.el3{\n  width: 40%;margin-left: 20%;\n}\n</style>"]}]}