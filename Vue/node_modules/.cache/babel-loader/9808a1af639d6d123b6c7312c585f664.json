{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/layout/About.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/layout/About.vue","mtime":1655213314618},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgJCBmcm9tICIuLi9hc3NldHMvanMvanF1ZXJ5LTMuNi4wIjsKaW1wb3J0IEhlYWRPZldlbGNvbWUgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkT2ZXZWxjb21lIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7IC8v5byV5YWlalF1ZXJ5CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFib3V0IiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkT2ZXZWxjb21lOiBIZWFkT2ZXZWxjb21lCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VTaXplOiA1LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgZGlhbG9nRm9ybVZpc2libGVGb3JMb29rOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+agvOW8j+WMluaXpeacnwogICAgdGltZUZpbHRlcjogZnVuY3Rpb24gdGltZUZpbHRlcihyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICB2YXIgZGF0ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldOwoKICAgICAgaWYgKGRhdGUgIT0gbnVsbCkgewogICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgIH0KICAgIH0sCiAgICAvL+W9k+WJjemhteeggeaUueWPmAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfSwKICAgIC8v5Yqg6L295pWw5o2uCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmdldCgiL2xvZy9nZXRBbGxMb2ciLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l55yL6K+m5oOFCiAgICBsb29rOiBmdW5jdGlvbiBsb29rKHJvdykgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlRm9yTG9vayA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCcjY29udGVudCcpLmh0bWwocm93LmNvbnRlbnQpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/layout/About.vue"],"names":[],"mappings":"AA0CA,OAAO,MAAP,MAAmB,QAAnB;AACA,OAAO,CAAP,MAAc,2BAAd;AACA,OAAO,aAAP,MAA0B,6BAA1B;AACA,OAAO,OAAP,MAAoB,kBAApB,C,CAAyC;;AAEzC,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,aAAa,EAAb;AAAD,GAFC;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,EADN;AAIL,MAAA,KAAK,EAAE,CAJF;AAKL,MAAA,QAAQ,EAAE,CALL;AAML,MAAA,WAAW,EAAE,CANR;AAOL,MAAA,wBAAwB,EAAE;AAPrB,KAAP;AASD,GAbY;AAcb,EAAA,OAda,qBAcH;AACR,SAAK,QAAL;AACD,GAhBY;AAiBb,EAAA,OAAO,EAAE;AACP;AACA,IAAA,UAFO,sBAEI,GAFJ,EAES,MAFT,EAEiB,SAFjB,EAE4B,KAF5B,EAEmC;AACxC,UAAM,IAAG,GAAI,GAAG,CAAC,MAAM,CAAC,QAAR,CAAhB;;AACA,UAAG,IAAG,IAAI,IAAV,EAAe;AACb,eAAO,MAAM,CAAC,IAAD,CAAN,CAAa,MAAb,CAAoB,YAApB,CAAP;AACF;AACD,KAPM;AAQP;AACA,IAAA,mBATO,iCASe;AACpB,WAAK,QAAL;AACD,KAXM;AAYP;AACA,IAAA,QAbO,sBAaI;AAAA;;AACT,MAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA6B;AAC3B,QAAA,MAAM,EAAE;AACN,UAAA,WAAW,EAAE,KAAK,WADZ;AAEN,UAAA,QAAQ,EAAE,KAAK;AAFT;AADmB,OAA7B,EAKG,IALH,CAKQ,UAAA,GAAE,EAAK;AACb,QAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,OAA1B;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB;AACD,OARD;AASD,KAvBM;AAwBP;AACA,IAAA,IAzBO,gBAyBF,GAzBE,EAyBG;AACR,WAAK,wBAAL,GAAgC,IAAhC;AACA,WAAK,SAAL,CAAe,YAAK;AAClB,QAAA,CAAC,CAAC,UAAD,CAAD,CAAc,IAAd,CAAmB,GAAG,CAAC,OAAvB;AACD,OAFD;AAGF;AA9BO;AAjBI,CAAf","sourcesContent":["<template>\n  <!--首页头部-->\n  <HeadOfWelcome/>\n  <div class=\"divFirst\">\n    <p class=\"p1\">网站更新日志</p>\n    <div class=\"divSecond\">\n      <el-table :data=\"tableData\" border>\n        <el-table-column prop=\"id\" label=\"编号\" width=\"\" align=\"center\" v-if=\"false\" />\n        <el-table-column prop=\"version\" label=\"版本\" width=\"300\" align=\"center\" />\n        <el-table-column prop=\"date\" label=\"发布日期\" width=\"300\" align=\"center\" :formatter=\"timeFilter\"/>\n        <el-table-column prop=\"content\" label=\"内容\" width=\"100\" align=\"center\"  v-if=\"false\"/>\n        <el-table-column label=\"操作\" width=\"\" align=\"center\" key=\"slot\">\n          <!--此处使用了插槽，来实现获得某行的对象-->\n          <template #default=\"scope\" >\n            <el-button type=\"text\" size=\"big\" @click=\"this.look(scope.row)\">查看</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!--分页组件-->\n      <el-pagination\n          background\n          layout=\"total, prev, pager, next\"\n          :total=\"total\"\n          :page-size=\"pageSize\"\n          v-model:currentPage=\"currentPage\"\n          @current-change=\"handleCurrentChange\"\n          class=\"el1\">\n      </el-pagination>\n    </div>\n  </div>\n  <!--查看日志弹窗，点击查看时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForLook\" title=\"查看日志\">\n    <div id=\"content\"></div>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogFormVisibleForLook=false\">关闭</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport moment from 'moment';\nimport $ from \"../assets/js/jquery-3.6.0\";\nimport HeadOfWelcome from \"../components/HeadOfWelcome\";\nimport request from \"../utils/request\";  //引入jQuery\n\nexport default {\n  name: \"About\",\n  components: {HeadOfWelcome},\n  data() {\n    return {\n      tableData: [\n\n      ],\n      total: 0,\n      pageSize: 5,\n      currentPage: 1,\n      dialogFormVisibleForLook: false\n    }\n  },\n  created() {\n    this.loadData()\n  },\n  methods: {\n    //格式化日期\n    timeFilter(row, column, cellValue, index) {\n      const date = row[column.property]\n      if(date !=null){\n        return moment(date).format(\"YYYY-MM-DD\")\n      }\n    },\n    //当前页码改变\n    handleCurrentChange() {\n      this.loadData()\n    },\n    //加载数据\n    loadData() {\n      request.get(\"/log/getAllLog\",{\n        params: {\n          currentPage: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        this.tableData = res.data.records\n        this.total = res.data.total\n      })\n    },\n    //查看详情\n    look(row) {\n      this.dialogFormVisibleForLook = true\n      this.$nextTick(() =>{\n        $('#content').html(row.content)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.divFirst{\n  background: white;position: absolute;width: 100%;left: 50%;top: calc(50% + 25px);transform: translate(-50%,-50%);height: calc(100% - 50px);\n}\n.p1{\n  text-align: center;padding: 10px;font-size: 22px;color: #409eff;\n}\n.divSecond{\n  width: 60%;position: absolute;left: 20%;margin-top: 10px;\n}\n.el1{\n  margin-top: 15px;\n}\n</style>"],"sourceRoot":""}]}