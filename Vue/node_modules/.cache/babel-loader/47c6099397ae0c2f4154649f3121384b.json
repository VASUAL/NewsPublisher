{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/LogList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/LogList.vue","mtime":1655214038371},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCBFIGZyb20gIndhbmdlZGl0b3IiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCAkIGZyb20gJy4uLy4uL2Fzc2V0cy9qcy9qcXVlcnktMy42LjAnOyAvL+W8leWFpWpRdWVyeQoKdmFyIGVkaXRvcjsKdmFyIHJvd0ZvclVwZGF0ZTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dMaXN0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VTaXplOiA1LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgZm9ybUZvckVkaXQ6IHsKICAgICAgICBpZEVkaXQ6ICcnLAogICAgICAgIHZlcnNpb25FZGl0OiAnJywKICAgICAgICBkYXRlRWRpdDogJycsCiAgICAgICAgY29udGVudEVkaXQ6ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRWRpdDogZmFsc2UsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRGVsZXRlOiBmYWxzZSwKICAgICAgZGlhbG9nRm9ybVZpc2libGVGb3JMb29rOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+agvOW8j+WMluaXpeacnwogICAgdGltZUZpbHRlcjogZnVuY3Rpb24gdGltZUZpbHRlcihyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICB2YXIgZGF0ZSA9IHJvd1tjb2x1bW4ucHJvcGVydHldOwoKICAgICAgaWYgKGRhdGUgIT0gbnVsbCkgewogICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgIH0KICAgIH0sCiAgICAvL+W9k+WJjemhteeggeaUueWPmAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfSwKICAgIC8v5Yqg6L295pWw5o2uCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmdldCgiL2xvZy9nZXRBbGxMb2ciLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l55yL6K+m5oOFCiAgICBsb29rOiBmdW5jdGlvbiBsb29rKHJvdykgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlRm9yTG9vayA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCcjY29udGVudCcpLmh0bWwocm93LmNvbnRlbnQpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+S/ruaUueaXpeW/lwogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgLy/mmL7npLrkv67mlLnnqpflj6MKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUZvckVkaXQgPSB0cnVlOyAvL+WKoOi9veWvjOaWh+acrOe8lui+keWZqAoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGVkaXRvciA9IG5ldyBFKCcjZGl2MScpOwogICAgICAgIGVkaXRvci5jb25maWcuekluZGV4ID0gNTAwOwogICAgICAgIGVkaXRvci5jcmVhdGUoKTsKICAgICAgfSk7IC8v5Zue5pi+5a+M5paH5pys57yW6L6R5ZmoCgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNvbnRlbnQgPSByb3cuY29udGVudDsKICAgICAgICBlZGl0b3IudHh0Lmh0bWwoY29udGVudCk7CiAgICAgIH0pOyAvL+e7keWumuaVsOaNrgoKICAgICAgdGhpcy5mb3JtRm9yRWRpdC5pZEVkaXQgPSByb3cuaWQ7CiAgICAgIHRoaXMuZm9ybUZvckVkaXQudmVyc2lvbkVkaXQgPSByb3cudmVyc2lvbjsKICAgICAgdGhpcy5mb3JtRm9yRWRpdC5kYXRlRWRpdCA9IHJvdy5kYXRlOwogICAgfSwKICAgIC8v56Gu6K6k5L+u5pS5CiAgICBjb25mb3JtRWRpdDogZnVuY3Rpb24gY29uZm9ybUVkaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtRm9yRWRpdC5jb250ZW50RWRpdCA9IGVkaXRvci50eHQuaHRtbCgpOwoKICAgICAgaWYgKHRoaXMuZm9ybUZvckVkaXQudmVyc2lvbkVkaXQgPT09IG51bGwgfHwgdGhpcy5mb3JtRm9yRWRpdC52ZXJzaW9uRWRpdCA9PT0gIiIpIHsKICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeJiOacrCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1Gb3JFZGl0LmRhdGVFZGl0ID09PSBudWxsIHx8IHRoaXMuZm9ybUZvckVkaXQuZGF0ZUVkaXQgPT09ICIiKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nml6XmnJ8nCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtRm9yRWRpdC5jb250ZW50RWRpdCA9PT0gbnVsbCB8fCB0aGlzLmZvcm1Gb3JFZGl0LmNvbnRlbnRFZGl0ID09PSAiIikgewogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5YaF5a65JwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBmb3JtRm9yRWRpdCA9IHsKICAgICAgICAgIGlkOiB0aGlzLmZvcm1Gb3JFZGl0LmlkRWRpdCwKICAgICAgICAgIHZlcnNpb246IHRoaXMuZm9ybUZvckVkaXQudmVyc2lvbkVkaXQsCiAgICAgICAgICBjb250ZW50OiB0aGlzLmZvcm1Gb3JFZGl0LmNvbnRlbnRFZGl0LAogICAgICAgICAgZGF0ZTogdGhpcy5mb3JtRm9yRWRpdC5kYXRlRWRpdAogICAgICAgIH07CiAgICAgICAgcmVxdWVzdC5wb3N0KCIvbG9nL2VkaXRMb2ciLCBmb3JtRm9yRWRpdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5kaWFsb2dGb3JtVmlzaWJsZUZvckVkaXQgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIubG9hZERhdGEoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5Yig6Zmk5pel5b+XCiAgICBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUocm93KSB7CiAgICAgIHJvd0ZvclVwZGF0ZSA9IHJvdzsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUZvckRlbGV0ZSA9IHRydWU7CiAgICB9LAogICAgLy/noa7orqTliKDpmaQKICAgIGNvbmZvcm1EZWxldGU6IGZ1bmN0aW9uIGNvbmZvcm1EZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5wb3N0KCIvbG9nL2RlbGV0ZUxvZyIsIHJvd0ZvclVwZGF0ZS5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMy5sb2FkRGF0YSgpOyAvL+ivt+axguWQjueahOaTjeS9nOimgeaUvuWIsOivt+axgueahOWkp+aLrOWPt+mHjOmdou+8jOWQpuWImeW8guatpeaTjeS9nOS8mumAoOaIkOWKoOi9veaXtuaVsOaNruayoeacieabtOaWsAoKCiAgICAgICAgX3RoaXMzLmRpYWxvZ0Zvcm1WaXNpYmxlRm9yRGVsZXRlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/LogList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"dF\">\n    <el-table :data=\"tableData\" border class=\"el1\">\n      <el-table-column prop=\"id\" label=\"编号\" width=\"\" align=\"center\" v-if=\"false\" />\n      <el-table-column prop=\"version\" label=\"版本\" width=\"300\" align=\"center\" />\n      <el-table-column prop=\"date\" label=\"发布日期\" width=\"300\" align=\"center\" :formatter=\"timeFilter\"/>\n      <el-table-column prop=\"content\" label=\"内容\" width=\"100\" align=\"center\"  v-if=\"false\"/>\n      <el-table-column label=\"操作\" width=\"\" align=\"center\" key=\"slot\">\n        <!--此处使用了插槽，来实现获得某行的对象-->\n        <template #default=\"scope\" >\n          <el-button type=\"text\" size=\"big\" @click=\"this.look(scope.row)\">查看</el-button>\n          <el-button type=\"text\" size=\"big\" @click=\"this.edit(scope.row)\">修改</el-button>\n          <el-button type=\"text\" size=\"big\" @click=\"this.delete(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el2\">\n    </el-pagination>\n  </div>\n  <!--修改日志弹窗，点击修改时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForEdit\" title=\"修改日志\" width=\"60%\">\n    <el-form\n        :model=\"formForEdit\"\n        label-width=\"80px\">\n      <el-form-item label=\"版本\" prop=\"version\">\n        <el-input v-model=\"formForEdit.versionEdit\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"日期\">\n        <el-col :span=\"11\"><el-form-item prop=\"date\"><el-date-picker v-model=\"formForEdit.dateEdit\" type=\"date\" placeholder=\"请选择日期\" style=\"width: 100%\"></el-date-picker></el-form-item></el-col>\n      </el-form-item>\n      <el-form-item label=\"内容\" prop=\"content\">\n        <!--富文本编辑器-->\n        <div id=\"div1\">\n        </div>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForEdit=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformEdit()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <!--删除日志弹窗，点击删除时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForDelete\" title=\"删除日志\">\n    <span>是否确认删除该日志？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForDelete = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformDelete()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <!--查看日志弹窗，点击查看时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForLook\" title=\"查看日志\">\n    <div id=\"content\"></div>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogFormVisibleForLook=false\">关闭</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nimport E from \"wangeditor\";\nimport {ElMessage} from \"element-plus\";\nimport moment from 'moment';\nimport $ from '../../assets/js/jquery-3.6.0';  //引入jQuery\n\nlet editor;\nlet rowForUpdate;\n\nexport default {\n  name: \"LogList\",\n  data() {\n    return {\n      tableData: [\n\n      ],\n      total: 0,\n      pageSize: 5,\n      currentPage: 1,\n      formForEdit: {\n        idEdit: '',\n        versionEdit: '',\n        dateEdit: '',\n        contentEdit: ''\n      },\n      dialogFormVisibleForEdit: false,\n      dialogFormVisibleForDelete: false,\n      dialogFormVisibleForLook: false\n    }\n  },\n  created() {\n    this.loadData()\n  },\n  methods: {\n    //格式化日期\n    timeFilter(row, column, cellValue, index) {\n      const date = row[column.property]\n      if(date !=null){\n        return moment(date).format(\"YYYY-MM-DD\")\n      }\n    },\n    //当前页码改变\n    handleCurrentChange() {\n      this.loadData()\n    },\n    //加载数据\n    loadData() {\n      request.get(\"/log/getAllLog\",{\n        params: {\n          currentPage: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        this.tableData = res.data.records\n        this.total = res.data.total\n      })\n    },\n    //查看详情\n    look(row) {\n      this.dialogFormVisibleForLook = true\n      this.$nextTick(() =>{\n        $('#content').html(row.content)\n      })\n    },\n    //修改日志\n    edit(row) {\n      //显示修改窗口\n      this.dialogFormVisibleForEdit = true\n      //加载富文本编辑器\n      this.$nextTick(() =>{\n        editor = new E('#div1')\n        editor.config.zIndex = 500\n        editor.create()\n      })\n      //回显富文本编辑器\n      this.$nextTick(() => {\n        let content = row.content\n        editor.txt.html(content)\n      })\n      //绑定数据\n      this.formForEdit.idEdit = row.id\n      this.formForEdit.versionEdit = row.version\n      this.formForEdit.dateEdit = row.date\n    },\n    //确认修改\n    conformEdit() {\n      this.formForEdit.contentEdit = editor.txt.html()\n      if (this.formForEdit.versionEdit===null||this.formForEdit.versionEdit===\"\") {\n        ElMessage({\n          type: 'warning',\n          message: '请输入版本'\n        })\n      }else if (this.formForEdit.dateEdit===null||this.formForEdit.dateEdit===\"\") {\n        ElMessage({\n          type: 'warning',\n          message: '请选择日期'\n        })\n      }else if (this.formForEdit.contentEdit===null||this.formForEdit.contentEdit===\"\"){\n        ElMessage({\n          type: 'warning',\n          message: '请输入内容'\n        })\n      }else {\n        let formForEdit =  {\n          id: this.formForEdit.idEdit,\n          version: this.formForEdit.versionEdit,\n          content: this.formForEdit.contentEdit,\n          date: this.formForEdit.dateEdit\n        }\n        request.post(\"/log/editLog\",formForEdit).then(res =>{\n          ElMessage({\n            type: 'success',\n            message: '修改成功'\n          })\n          this.dialogFormVisibleForEdit = false\n          this.loadData()\n        })\n      }\n    },\n    //删除日志\n    delete(row) {\n      rowForUpdate = row\n      this.dialogFormVisibleForDelete = true\n    },\n    //确认删除\n    conformDelete() {\n      request.post(\"/log/deleteLog\",rowForUpdate.id).then(res =>{\n        ElMessage({\n          type: 'success',\n          message: '删除成功'\n        })\n        this.loadData()       //请求后的操作要放到请求的大括号里面，否则异步操作会造成加载时数据没有更新\n        this.dialogFormVisibleForDelete = false\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dF{\n  width: 90%;position: absolute;left: 5%;right: 5%;margin-top: 50px;\n}\n.el1{\n  width: 100%;\n}\n.el2{\n  margin-top: 15px;\n}\n.el-col-11[data-v-55fcbdfc]{\n  max-width: 100%;width: 100%;\n}\n</style>"],"sourceRoot":""}]}