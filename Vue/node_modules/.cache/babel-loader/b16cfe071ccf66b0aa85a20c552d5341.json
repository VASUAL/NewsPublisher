{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/FreeType.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/FreeType.vue","mtime":1655214013690},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZyZWVUeXBlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHJvdzsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBuZXdzTnVtYmVyOiAwLAogICAgICAgIHN0YXRlOiAxCiAgICAgIH0sCiAgICAgIGZvcm1Gb3JFZGl0OiB7CiAgICAgICAgb2xkTmFtZTogJycsCiAgICAgICAgbmV3TmFtZTogJycsCiAgICAgICAgbmV3c051bWJlcjogMAogICAgICB9LAogICAgICBmb3JtTGFiZWxXaWR0aDogMTAwLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRWRpdDogZmFsc2UsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRGVsZXRlOiBmYWxzZSwKICAgICAgcm93OiByb3cKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy/liJ3lp4vml7bliqDovb3ooajmoLzmlbDmja4KICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5b2T5YmN6aG15pS55Y+YCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKCkgewogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9LAogICAgLy/liKDpmaTmnb/lnZcKICAgIGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZShyb3cpIHsKICAgICAgdGhpcy5yb3cgPSByb3c7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGVGb3JEZWxldGUgPSB0cnVlOwogICAgfSwKICAgIC8v56Gu6K6k5Yig6ZmkCiAgICBjb25mb3JtRGVsZXRlOiBmdW5jdGlvbiBjb25mb3JtRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5wb3N0KCIvdHlwZS9kZWxldGUiLCB0aGlzLnJvdykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMSIpIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor6Xmnb/lnZflrZjlnKjluJblrZDvvIzml6Dms5XliKDpmaQnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5sb2FkRGF0YSgpOwoKICAgICAgICBfdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUZvckRlbGV0ZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvL+S/ruaUueadv+Wdl+WQjQogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdGhpcy5mb3JtRm9yRWRpdC5vbGROYW1lID0gcm93Lm5hbWU7CiAgICAgIHRoaXMuZm9ybUZvckVkaXQubmV3TmFtZSA9ICcnOwogICAgICB0aGlzLmZvcm1Gb3JFZGl0Lm5ld3NOdW1iZXIgPSByb3cubmV3c051bWJlcjsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUZvckVkaXQgPSB0cnVlOwogICAgfSwKICAgIC8v56Gu5a6a5L+u5pS55p2/5Z2XCiAgICBjb25mb3JtRWRpdDogZnVuY3Rpb24gY29uZm9ybUVkaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybUZvckVkaXQubmV3TmFtZSA9PT0gJycgfHwgdGhpcy5mb3JtRm9yRWRpdC5uZXdOYW1lID09PSBudWxsKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfmnb/lnZflkI3kuI3og73kuLrnqbonCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVxdWVzdC5nZXQoIi90eXBlL2VkaXQiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgb2xkTmFtZTogdGhpcy5mb3JtRm9yRWRpdC5vbGROYW1lLAogICAgICAgICAgICBuZXdOYW1lOiB0aGlzLmZvcm1Gb3JFZGl0Lm5ld05hbWUsCiAgICAgICAgICAgIG5ld3NOdW1iZXI6IHRoaXMuZm9ybUZvckVkaXQubmV3c051bWJlcgogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMSIpIHsKICAgICAgICAgICAgLy/mm7TmlrDlpLHotKUKICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7LlrZjlnKjor6Xmnb/lnZcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+S/ruaUueaIkOWKnycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmxvYWREYXRhKCk7IC8v6YeN5paw5Yqg6L295pWw5o2uCgoKICAgICAgICAgIF90aGlzMi5kaWFsb2dGb3JtVmlzaWJsZUZvckVkaXQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v54K55Ye75paw5aKe5oyJ6ZKuCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgLy/pppblhYjlsIbooajljZXmlbDmja7nva7kuLrnqbrlgLzvvIzpmLLmraLkuIrmrKHnmoTmlbDmja7mrovnlZnpgKDmiJDlvbHlk40KICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG5ld3NOdW1iZXI6IDAsCiAgICAgICAgc3RhdGU6IDEKICAgICAgfTsgLy/orqnmlrDlop7lr7nor53moYbmmL7npLoKCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8v56Gu6K6k5paw5aKe5p2/5Z2XCiAgICBjb25mb3JtQWRkOiBmdW5jdGlvbiBjb25mb3JtQWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8v5YWI5Yik5pat6L6T5YWl5piv5ZCm5Li656m6CiAgICAgIGlmICh0aGlzLmZvcm0ubmFtZSA9PT0gbnVsbCB8fCB0aGlzLmZvcm0ubmFtZSA9PT0gJycpIHsKICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+adv+Wdl+WQjeS4jeiDveS4uuepuicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WwhuihqOWNleWvueixoemAmui/h+iwg+eUqOaOpeWPo+S8oOmAkuWIsOWQjuerr++8jOmAmui/h+WQjuerr+WGmeWFpeaVsOaNruW6kwogICAgICAgIHJlcXVlc3QucG9zdCgiL3R5cGUvYWRkIiwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7miJDlip8nCiAgICAgICAgICAgIH0pOyAvL+mHjeaWsOWKoOi9veihqOagvOaVsOaNru+8jOS9v+aWsOaPkuWFpeeahOaVsOaNruaYvuekugoKICAgICAgICAgICAgX3RoaXMzLmxvYWREYXRhKCk7CgogICAgICAgICAgICBfdGhpczMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5a2Y5Zyo6K+l5p2/5Z2XJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+WKoOi9veihqOagvOaVsOaNru+8jOiwg+eUqOaOpeWPo+S7juWQjuerr+iOt+WPluWPr+WPmOadv+Wdl+eahOadv+Wdl+WQjeWSjOaWsOmXu+aVsAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvdHlwZS9nZXRGcmVlVHlwZSIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzNC50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/admin/FreeType.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-button type=\"primary\" class=\"el1\" @click=\"add()\">新增板块</el-button>\n  <span class=\"sp1\">提示：0代表固定板块，1代表可变板块</span>\n  <div class=\"dF\">\n    <el-table :data=\"tableData\" border class=\"el2\">\n      <el-table-column prop=\"name\" label=\"板块名\" width=\"300\" align=\"center\" />\n      <el-table-column prop=\"newsNumber\" label=\"新闻数量\" width=\"300\" align=\"center\" />\n      <el-table-column prop=\"state\" label=\"板块状态\" width=\"300\" align=\"center\" />\n      <el-table-column label=\"操作\" width=\"\" align=\"center\" key=\"slot\">\n        <!--此处使用了插槽，来实现获得某行的对象-->\n        <template #default=\"scope\" >\n          <el-button type=\"text\" size=\"big\" @click=\"this.delete(scope.row)\">删除</el-button>\n          <el-button type=\"text\" size=\"big\" @click=\"this.edit(scope.row)\">修改</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el3\">\n    </el-pagination>\n  </div>\n  <!--新增板块弹窗，点击新增时才显示-->\n  <el-dialog v-model=\"dialogFormVisible\" title=\"新增板块\">\n    <el-form :model=\"form\">\n      <el-form-item label=\"板块名\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformAdd()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <!--修改板块弹窗，点击修改时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForEdit\" title=\"修改板块\">\n    <el-form :model=\"formForEdit\">\n      <el-form-item label=\"原板块名\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"formForEdit.oldName\" autocomplete=\"off\" disabled=\"true\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"新板块名\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"formForEdit.newName\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"贴子数\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"formForEdit.newsNumber\" autocomplete=\"off\" disabled=\"true\"></el-input>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForEdit = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformEdit()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <!--删除板块弹窗，点击删除时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForDelete\" title=\"删除板块\">\n    <span>是否确认删除该板块？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForDelete = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformDelete()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nimport {ElMessage} from \"element-plus\";\n\nexport default {\n  name: \"FreeType\",\n  data() {\n    let row;\n    return {\n      tableData: [\n\n      ],\n      form: {\n        name: '',\n        newsNumber: 0,\n        state: 1\n      },\n      formForEdit: {\n        oldName: '',\n        newName: '',\n        newsNumber: 0\n      },\n      formLabelWidth: 100,\n      dialogFormVisible: false,\n      dialogFormVisibleForEdit: false,\n      total: 0,\n      pageSize: 5,\n      currentPage: 1,\n      dialogFormVisibleForDelete: false,\n      row,\n    }\n  },\n  created() {\n    //初始时加载表格数据\n    this.loadData()\n  },\n  methods: {\n    //当前页改变\n    handleCurrentChange() {\n      this.loadData()\n    },\n    //删除板块\n    delete(row) {\n      this.row = row\n      this.dialogFormVisibleForDelete = true\n    },\n    //确认删除\n    conformDelete() {\n      request.post(\"/type/delete\",this.row).then(res =>{\n        if (res.code===\"1\") {\n          ElMessage({\n            type: 'error',\n            message: '该板块存在帖子，无法删除'\n          })\n        }else {\n          ElMessage({\n            type: 'success',\n            message: '删除成功'\n          })\n        }\n        this.loadData()\n        this.dialogFormVisibleForDelete = false\n      })\n    },\n    //修改板块名\n    edit(row) {\n      this.formForEdit.oldName = row.name\n      this.formForEdit.newName = ''\n      this.formForEdit.newsNumber = row.newsNumber\n      this.dialogFormVisibleForEdit = true\n    },\n    //确定修改板块\n    conformEdit() {\n      if (this.formForEdit.newName===''||this.formForEdit.newName===null) {\n        ElMessage({\n          type: 'warning',\n          message: '板块名不能为空'\n        })\n      }else {\n        request.get(\"/type/edit\",{\n          params: {\n            oldName: this.formForEdit.oldName,\n            newName: this.formForEdit.newName,\n            newsNumber: this.formForEdit.newsNumber\n          }\n        }).then(res => {\n          if (res.code===\"1\") {   //更新失败\n            ElMessage({\n              type: 'error',\n              message: '已存在该板块'\n            })\n          }else {\n            ElMessage({\n              type: 'success',\n              message: '修改成功'\n            })\n          }\n          this.loadData()  //重新加载数据\n          this.dialogFormVisibleForEdit = false\n        })\n      }\n    },\n    //点击新增按钮\n    add() {\n      //首先将表单数据置为空值，防止上次的数据残留造成影响\n      this.form = {\n        name: '',\n        newsNumber: 0,\n        state: 1\n      }\n      //让新增对话框显示\n      this.dialogFormVisible = true\n    },\n    //确认新增板块\n    conformAdd() {\n      //先判断输入是否为空\n      if (this.form.name===null||this.form.name==='') {\n        ElMessage({\n          type: 'warning',\n          message: '板块名不能为空'\n        })\n      }else {\n        //将表单对象通过调用接口传递到后端，通过后端写入数据库\n        request.post(\"/type/add\",this.form).then(res =>{\n          if (res.code===\"0\") {\n            ElMessage({\n              type: 'success',\n              message: '新增成功'\n            })\n            //重新加载表格数据，使新插入的数据显示\n            this.loadData()\n            this.dialogFormVisible = false\n          }else {\n            ElMessage({\n              type: 'error',\n              message: '已存在该板块'\n            })\n            this.dialogFormVisible = false\n          }\n        })\n      }\n    },\n    //加载表格数据，调用接口从后端获取可变板块的板块名和新闻数\n    loadData() {\n      request.get(\"/type/getFreeType\",{\n        params: {\n          currentPage: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(res =>{\n        this.total = res.data.total\n        this.tableData = res.data.records\n      })\n    }\n  },\n}\n</script>\n\n<style scoped>\n.el1{\n  position: absolute;left: 5%;margin-top: 50px;\n}\n.sp1{\n  position: absolute;margin-top: 60px;left: 15%;font-size: 13px;color: red;\n}\n.dF{\n  width: 90%;position: absolute;left: 5%;right: 5%;margin-top: 100px;\n}\n.el2{\n  width: 100%;\n}\n.el3{\n  margin-top: 15px;\n}\n</style>"],"sourceRoot":""}]}