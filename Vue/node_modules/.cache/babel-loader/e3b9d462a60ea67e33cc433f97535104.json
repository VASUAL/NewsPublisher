{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/layout/TypeContent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/layout/TypeContent.vue","mtime":1656144129160},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmRvdC1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgSGVhZE9mSG9tZSBmcm9tICIuLi9jb21wb25lbnRzL0hlYWRPZkhvbWUiOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwp2YXIgdXNlckVtYWlsOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlR5cGVDb250ZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkT2ZIb21lOiBIZWFkT2ZIb21lCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhRm9yTmV3c0xpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdGFibGVEYXRhRm9yVXNlckhvYmJ5OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgc3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckVtYWlsIik7CgogICAgaWYgKHN0ciA9PT0gbnVsbCB8fCBzdHIgPT09ICIiKSB7CiAgICAgIHVzZXJFbWFpbCA9IHN0cjsKICAgIH0gZWxzZSB7CiAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKCciJywgImciKTsKICAgICAgdXNlckVtYWlsID0gc3RyLnJlcGxhY2UocmVnLCAiIik7IC8v5q2j5YiZ6KGo6L6+5byP77yM5bCG5a2X56ym5Liy5Lik56uv55qE5Y+M5byV5Y+35Y675o6JCiAgICB9CgogICAgdGhpcy5sb2FkRGF0YSgpOwogICAgdGhpcy5sb2FkSG9iYnlOZXdzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+i/m+WFpeaWsOmXu+ivpuaDhemhtQogICAgaW50b05ld3NDb250ZW50OiBmdW5jdGlvbiBpbnRvTmV3c0NvbnRlbnQoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbmV3c0NvbnRlbnQnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBuZXdzSWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WKoOi9veadv+Wdl+aVsOaNrgogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHR5cGVOYW1lID0gdGhpcy4kcm91dGUucXVlcnkudHlwZU5hbWU7IC8v5p2/5Z2X5ZCNCgogICAgICByZXF1ZXN0LmdldCgiL25ld3NfVXNlci9nZXRBbGxOZXdzQnlUeXBlTmFtZSIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHR5cGVOYW1lOiB0eXBlTmFtZSwKICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEucmVjb3Jkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgcmVzLmRhdGEucmVjb3Jkc1tpXS5kYXRlID0gbW9tZW50KHJlcy5kYXRhLnJlY29yZHNbaV0uZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy50YWJsZURhdGFGb3JOZXdzTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfSwKICAgIC8v5riF56m65pCc57Si6K6w5b2VCiAgICBjbGVhclNlYXJjaDogZnVuY3Rpb24gY2xlYXJTZWFyY2goKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHVzZXJFbWFpbCA9PT0gbnVsbCB8fCB1c2VyRW1haWwgPT09ICIiKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fnmbvlvZXmiJbms6jlhozlkI7ph43or5UnCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVxdWVzdC5wb3N0KCIvc2VhcmNoL2NsZWFyVXNlclNlYXJjaCIsIHVzZXJFbWFpbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Lph43nva4nCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIubG9hZEhvYmJ5TmV3cygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/liqDovb3lhbTotqPmjqjojZDmlbDmja4KICAgIGxvYWRIb2JieU5ld3M6IGZ1bmN0aW9uIGxvYWRIb2JieU5ld3MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHVzZXJFbWFpbCA9PT0gbnVsbCB8fCB1c2VyRW1haWwgPT09ICIiKSB7Ly/mnKrnmbvlvZUKICAgICAgfSBlbHNlIHsKICAgICAgICByZXF1ZXN0LnBvc3QoIi9uZXdzL2dldE5ld3NCeVVzZXJTZWFyY2giLCB1c2VyRW1haWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMzLnRhYmxlRGF0YUZvclVzZXJIb2JieSA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/layout/TypeContent.vue"],"names":[],"mappings":";;;;;;AA4DA,OAAO,UAAP,MAAuB,0BAAvB;AACA,OAAO,OAAP,MAAoB,kBAApB;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,SAAQ,SAAR,QAAwB,cAAxB;AAEA,IAAI,SAAJ;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,aADO;AAEb,EAAA,UAAU,EAAE;AAAC,IAAA,UAAU,EAAV;AAAD,GAFC;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,oBAAoB,EAAE,EADjB;AAIL,MAAA,KAAK,EAAE,CAJF;AAKL,MAAA,WAAW,EAAE,CALR;AAML,MAAA,QAAQ,EAAE,EANL;AAOL,MAAA,qBAAqB,EAAE;AAPlB,KAAP;AAWD,GAfY;AAgBb,EAAA,OAhBa,qBAgBH;AACR,QAAI,GAAE,GAAI,cAAc,CAAC,OAAf,CAAuB,WAAvB,CAAV;;AACA,QAAI,GAAG,KAAG,IAAN,IAAY,GAAG,KAAG,EAAtB,EAA0B;AACxB,MAAA,SAAQ,GAAI,GAAZ;AACD,KAFD,MAEM;AACJ,UAAI,GAAE,GAAI,IAAI,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAV;AACA,MAAA,SAAQ,GAAI,GAAG,CAAC,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAZ,CAFI,CAEiC;AACvC;;AACA,SAAK,QAAL;AACA,SAAK,aAAL;AACD,GA1BY;AA2Bb,EAAA,OAAO,EAAE;AACP;AACA,IAAA,eAFO,2BAES,EAFT,EAEa;AAClB,WAAK,OAAL,CAAa,IAAb,CAAkB;AAChB,QAAA,IAAI,EAAE,cADU;AAEhB,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE;AADH;AAFS,OAAlB;AAMD,KATM;AAUP;AACA,IAAA,QAXO,sBAWI;AAAA;;AACT,UAAI,QAAO,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAAjC,CADS,CACkC;;AAC3C,MAAA,OAAO,CAAC,GAAR,CAAY,iCAAZ,EAA8C;AAC5C,QAAA,MAAM,EAAE;AACN,UAAA,QAAQ,EAAE,QADJ;AAEN,UAAA,WAAW,EAAE,KAAK,WAFZ;AAGN,UAAA,QAAQ,EAAE,KAAK;AAHT;AADoC,OAA9C,EAMG,IANH,CAMQ,UAAA,GAAE,EAAI;AACZ,aAAK,IAAI,CAAC,GAAC,CAAX,EAAa,CAAC,GAAC,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAiB,MAAhC,EAAuC,CAAC,EAAxC,EAA4C;AAC1C,UAAA,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAiB,CAAjB,EAAoB,IAApB,GAA2B,MAAM,CAAC,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAiB,CAAjB,EAAoB,IAArB,CAAN,CAAiC,MAAjC,CAAwC,YAAxC,CAA3B;AACF;;AACA,QAAA,KAAI,CAAC,oBAAL,GAA4B,GAAG,CAAC,IAAJ,CAAS,OAArC;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB;AACD,OAZD;AAaD,KA1BM;AA2BP,IAAA,mBA3BO,iCA2Be;AACpB,WAAK,QAAL;AACD,KA7BM;AA8BP;AACA,IAAA,WA/BO,yBA+BM;AAAA;;AACX,UAAI,SAAS,KAAG,IAAZ,IAAkB,SAAS,KAAG,EAAlC,EAAsC;AACpC,QAAA,SAAS,CAAC;AACR,UAAA,IAAI,EAAE,SADE;AAER,UAAA,OAAO,EAAE;AAFD,SAAD,CAAT;AAID,OALD,MAKM;AACJ,QAAA,OAAO,CAAC,IAAR,CAAa,yBAAb,EAAuC,SAAvC,EAAkD,IAAlD,CAAuD,UAAA,GAAE,EAAI;AAC3D,UAAA,SAAS,CAAC;AACR,YAAA,IAAI,EAAE,SADE;AAER,YAAA,OAAO,EAAE;AAFD,WAAD,CAAT;;AAIA,UAAA,MAAI,CAAC,aAAL;AACD,SAND;AAOF;AACD,KA9CM;AA+CP;AACA,IAAA,aAhDO,2BAgDS;AAAA;;AACd,UAAI,SAAS,KAAG,IAAZ,IAAkB,SAAS,KAAG,EAAlC,EAAsC,CAAI;AAEzC,OAFD,MAEM;AACJ,QAAA,OAAO,CAAC,IAAR,CAAa,2BAAb,EAAyC,SAAzC,EAAoD,IAApD,CAAyD,UAAA,GAAE,EAAI;AAC7D,UAAA,MAAI,CAAC,qBAAL,GAA6B,GAAG,CAAC,IAAjC;AACD,SAFD;AAGF;AACF;AAxDO;AA3BI,CAAf","sourcesContent":["<template>\n  <!--头部-->\n  <HeadOfHome/>\n  <!--左部列表-->\n  <div id=\"left\" class=\"dF\">\n    <el-table :data=\"tableDataForNewsList\" class=\"el1\" :cell-style=\"{background:'#ffffff'}\" :show-header=\"false\">\n      <el-table-column label=\"\" width=\"\">\n        <template #default=\"scope\">\n          <table class=\"t1\">\n            <tr class=\"tr1\" id=\"row\">\n              <td colspan=\"6\"><span @click=\"intoNewsContent(scope.row.id)\" class=\"sp1\">[{{scope.row.type}}]&nbsp;{{scope.row.headline}}</span></td>\n            </tr>\n            <tr class=\"tr2\">\n              <td class=\"td1\"><img src=\"../assets/photo/uptime.png\" alt=\"\" class=\"im1\"></td>\n              <td class=\"td2\">{{scope.row.date}}</td>\n              <td class=\"td3\"><img src=\"../assets/photo/click.png\" alt=\"\" class=\"im2\"></td>\n              <td class=\"td4\">{{scope.row.click}}</td>\n            </tr>\n          </table>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el2\">\n    </el-pagination>\n  </div>\n  <!--右边-->\n  <div class=\"dS\">\n    <table class=\"t2\">\n      <tr class=\"tr3\">\n        <td class=\"td7\">兴趣推荐</td>\n        <td class=\"td8\"><img src=\"../assets/photo/change.png\" alt=\"\" class=\"im4\"></td>\n        <td><el-button @click=\"clearSearch()\" type=\"text\" class=\"el3\">重置</el-button></td>\n      </tr>\n      <tr class=\"tr4\">\n        <td colspan=\"3\" class=\"td9\">基于用户搜索记录</td>\n      </tr>\n    </table>\n    <el-table :data=\"tableDataForUserHobby\" class=\"el4\" :cell-style=\"{background:'#ffffff'}\" :show-header=\"false\">\n      <el-table-column label=\"\" width=\"\">\n        <template #default=\"scope\">\n          <table class=\"t3\">\n            <tr>\n              <td colspan=\"3\" class=\"td10\"><span @click=\"intoNewsContent(scope.row.id)\" class=\"sp2\">●&nbsp;{{scope.row.headline}}</span></td>\n            </tr>\n          </table>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport HeadOfHome from \"../components/HeadOfHome\";\nimport request from \"../utils/request\";\nimport moment from \"moment\";\nimport {ElMessage} from \"element-plus\";\n\nlet userEmail;\n\nexport default {\n  name: \"TypeContent\",\n  components: {HeadOfHome},\n  data() {\n    return {\n      tableDataForNewsList: [\n\n      ],\n      total: 0,\n      currentPage: 1,\n      pageSize: 10,\n      tableDataForUserHobby: [\n\n      ]\n    }\n  },\n  created() {\n    let str = sessionStorage.getItem(\"userEmail\");\n    if (str===null||str===\"\") {\n      userEmail = str\n    }else {\n      let reg = new RegExp('\"', \"g\");\n      userEmail = str.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n    }\n    this.loadData()\n    this.loadHobbyNews()\n  },\n  methods: {\n    //进入新闻详情页\n    intoNewsContent(id) {\n      this.$router.push({\n        path: '/newsContent',\n        query: {\n          newsId: id\n        }\n      })\n    },\n    //加载板块数据\n    loadData() {\n      let typeName = this.$route.query.typeName  //板块名\n      request.get(\"/news_User/getAllNewsByTypeName\",{\n        params: {\n          typeName: typeName,\n          currentPage: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(res =>{\n        for (let i=0;i<res.data.records.length;i++) {\n          res.data.records[i].date = moment(res.data.records[i].date).format(\"YYYY-MM-DD\")\n        }\n        this.tableDataForNewsList = res.data.records\n        this.total = res.data.total\n      })\n    },\n    handleCurrentChange() {\n      this.loadData()\n    },\n    //清空搜索记录\n    clearSearch(){\n      if (userEmail===null||userEmail===\"\") {\n        ElMessage({\n          type: 'warning',\n          message: '请登录或注册后重试'\n        })\n      }else {\n        request.post(\"/search/clearUserSearch\",userEmail).then(res =>{\n          ElMessage({\n            type: 'success',\n            message: '已重置'\n          })\n          this.loadHobbyNews()\n        })\n      }\n    },\n    //加载兴趣推荐数据\n    loadHobbyNews() {\n      if (userEmail===null||userEmail===\"\") {   //未登录\n\n      }else {\n        request.post(\"/news/getNewsByUserSearch\",userEmail).then(res =>{\n          this.tableDataForUserHobby = res.data\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-table tbody tr:hover>td {\n  background-color:#ffffff!important\n}\n.dF{\n  position: absolute;height: auto;width: 43%;background: white;left: 15%;margin-top: 70px;padding-right: 17px;padding-left: 17px;box-shadow: 0 0 3px 3px #f3f3f3;\n}\n.el1{\n  width: 100%;\n}\n.t1{\n  width: 100%;\n}\n.tr1{\n  height: 70px;\n}\n.sp1{\n  cursor:pointer;text-decoration: none;font-size: 18px;color: black;\n}\n.tr2{\n  height: 40px;\n}\n.td1{\n  text-align: right;\n}\n.td2{\n  width: 25%;\n}\n.td3{\n  width: 6%;\n}\n.td4{\n  width: 8%;\n}\n.td5{\n  width: 6%;\n}\n.td6{\n  width: 8%;\n}\n.im1{\n  height: 30px;width: 30px;\n}\n.im2{\n  height: 30px;width: 30px;\n}\n.im3{\n  height: 30px;width: 30px;\n}\n.el2{\n  margin-top: 30px;margin-bottom: 30px\n}\n.dS{\n  position: absolute;width: 18%;height: auto;right: 15%;background: white;margin-top: 70px;box-shadow: 0 0 3px 3px #f3f3f3;padding-right: 17px;padding-left: 17px;padding-bottom: 17px;\n}\n.t2{\n  width: 100%;\n}\n.tr3{\n  line-height: 50px;font-size: 18px;text-align: left;\n}\n.td7{\n  width: 45%;\n}\n.td8{\n  width: 7%;\n}\n.im4{\n  height: 16px;width: 16px;position: relative;top: 3px;\n}\n.el3{\n  text-align: left;text-decoration: none;color: red;font-size: 14px;\n}\n.tr4{\n  line-height: 15px;font-size: 13px;text-align: left;\n}\n.td9{\n  width: 45%;\n}\n.el4{\n  width: 100%;\n}\n.t3{\n  width: 100%;\n}\n.td10{\n  padding-top: 10px;padding-bottom: 10px;\n}\n.sp2{\n  cursor:pointer;font-size: 15px;color: black;text-decoration: none;\n}\n</style>"],"sourceRoot":""}]}