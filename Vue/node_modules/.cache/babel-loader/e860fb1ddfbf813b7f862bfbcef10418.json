{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue?vue&type=template&id=7de22f82&scoped=true","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue","mtime":1655214403378},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi03ZGUyMmY4MiIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJkRiIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIueUs+ivt+aIkOS4uueuoeeQhuWRmCIpOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjZWxsLWl0ZW0iCn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIg5b2T5YmN6KeS6ImyICIpOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBpZDogInJvbGUiCiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLmmK/lkKbnoa7orqTnlLPor7fmiJDkuLrnrqHnkIblkZjvvJ8iLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiZGlhbG9nLWZvb3RlciIKfTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuWPlua2iCIpOwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi56Gu5a6aIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfdXNlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJ1c2VyIik7CgogIHZhciBfY29tcG9uZW50X2VsX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaWNvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF90YWcgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFnIik7CgogIHZhciBfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRlc2NyaXB0aW9ucy1pdGVtIik7CgogIHZhciBfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9ucyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1kZXNjcmlwdGlvbnMiKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfZGlhbG9nID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRpYWxvZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVDb21tZW50Vk5vZGUoIuivpue7huaPj+i/sCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zLCB7CiAgICBjbGFzczogIm1hcmdpbi10b3AiLAogICAgdGl0bGU6ICLmnYPpmZDkv6Hmga8iLAogICAgZGlyZWN0aW9uOiAidmVydGljYWwiLAogICAgY29sdW1uOiAxLAogICAgYm9yZGVyOiAiIgogIH0sIHsKICAgIGV4dHJhOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMucmVxdWVzdFRvQWRtaW4oKTsKICAgICAgICB9KSwKICAgICAgICB0eXBlOiAicHJpbWFyeSIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSldOwogICAgfSksCiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIG51bGwsIHsKICAgICAgICBsYWJlbDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaWNvbiwgbnVsbCwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF91c2VyKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgICAgIH0pLCBfaG9pc3RlZF80XSldOwogICAgICAgIH0pLAogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFnLCB7CiAgICAgICAgICAgIHNpemU6ICJiaWciCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzVdOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgICAgICB9KV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgi55Sz6K+35by556qXIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgbW9kZWxWYWx1ZTogJGRhdGEuZGlhbG9nRm9ybVZpc2libGVGb3JSZXF1ZXN0LAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLmRpYWxvZ0Zvcm1WaXNpYmxlRm9yUmVxdWVzdCA9ICRldmVudDsKICAgIH0pLAogICAgdGl0bGU6ICLnrqHnkIblkZjnlLPor7ciCiAgfSwgewogICAgZm9vdGVyOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5kaWFsb2dGb3JtVmlzaWJsZUZvclJlcXVlc3QgPSBmYWxzZTsKICAgICAgICB9KQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF84XTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRvcHRpb25zLmNvbmZvcm1SZXF1ZXN0KCk7CiAgICAgICAgfSkKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfOV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSldKV07CiAgICB9KSwKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF82XTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJtb2RlbFZhbHVlIl0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/RequestToAdmin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!--详细描述-->\n  <div class=\"dF\">\n    <el-descriptions\n        class=\"margin-top\"\n        title=\"权限信息\"\n        direction=\"vertical\"\n        :column=\"1\"\n        border>\n      <template #extra>\n        <el-button @click=\"requestToAdmin()\" type=\"primary\">申请成为管理员</el-button>\n      </template>\n      <el-descriptions-item>\n        <template #label>\n          <div class=\"cell-item\">\n            <el-icon>\n              <user />\n            </el-icon>\n            当前角色\n          </div>\n        </template>\n        <el-tag size=\"big\"><span id=\"role\"></span></el-tag>\n      </el-descriptions-item>\n    </el-descriptions>\n  </div>\n  <!--申请弹窗-->\n  <el-dialog v-model=\"dialogFormVisibleForRequest\" title=\"管理员申请\">\n    <span>是否确认申请成为管理员？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForRequest = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformRequest()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport User from \"@element-plus/icons/lib/User\";\nimport request from \"../../utils/request\";\nimport $ from '../../assets/js/jquery-3.6.0';\nimport {ElMessage} from \"element-plus\";\nlet userEmail;\nlet role;\n\nexport default {\n  name: \"RequestToAdmin\",\n  components: {\n    User,\n  },\n  data() {\n    return {\n      dialogFormVisibleForRequest: false\n    }\n  },\n  methods: {\n    //申请成为管理员\n    requestToAdmin() {\n      if (role===0) {\n        this.dialogFormVisibleForRequest = true\n      }else if (role===1) {\n        ElMessage({\n          type: 'warning',\n          message: '您已是管理员'\n        })\n      }else if (role===2) {\n        ElMessage({\n          type: 'warning',\n          message: '您已是管理员'\n        })\n      }else {\n        ElMessage({\n          type: 'warning',\n          message: '审核中，请耐心等待'\n        })\n      }\n    },\n    //确认申请\n    conformRequest() {\n      request.post(\"/user/changeUserToAdminForRequest\",userEmail).then(res =>{\n        ElMessage({\n          type: 'success',\n          message: '已提交申请，请耐心等待'\n        })\n        this.loadData()\n        this.dialogFormVisibleForRequest = false\n      })\n    },\n    //加载数据\n    loadData() {\n      let email = sessionStorage.getItem(\"userEmail\")\n      let reg = new RegExp('\"', \"g\");\n      userEmail = email.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n      request.post(\"/user/getRole\",userEmail).then(res =>{\n        role = res.data\n        if (role===0) {\n          $('#role').html(\"用户\");\n        }else if (role===1) {\n          $('#role').html(\"管理员\");\n        }else if (role===2) {\n          $('#role').html(\"超级管理员\");\n        }else {\n          $('#role').html(\"待审核的管理员\");\n        }\n      })\n    }\n  },\n  created() {\n    this.loadData()\n  }\n}\n</script>\n\n<style scoped>\n.dF{\n  width: 60%;position: absolute;left: 15%;right: 5%;margin-top: 120px;\n}\n</style>"],"sourceRoot":""}]}