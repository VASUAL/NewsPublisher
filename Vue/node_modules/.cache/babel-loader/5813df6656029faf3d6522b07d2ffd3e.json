{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/MyFocus.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/MyFocus.vue","mtime":1655214319520},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmRvdC1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi8uLi91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKdmFyIHVzZXJFbWFpbDsKdmFyIGZvY3VzSWQ7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTXlGb2N1cyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRGVsZXRlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5Yqg6L295pWw5o2uCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW1haWwgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyRW1haWwiKTsKICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyInLCAiZyIpOwogICAgICB1c2VyRW1haWwgPSBlbWFpbC5yZXBsYWNlKHJlZywgIiIpOyAvL+ato+WImeihqOi+vuW8j++8jOWwhuWtl+espuS4suS4pOerr+eahOWPjOW8leWPt+WOu+aOiQoKICAgICAgcmVxdWVzdC5nZXQoIi9mb2N1c19Vc2VyL2dldCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXJFbWFpbDogdXNlckVtYWlsLAogICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WPlua2iOWFs+azqAogICAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKGlkKSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGVGb3JEZWxldGUgPSB0cnVlOwogICAgICBmb2N1c0lkID0gaWQ7CiAgICB9LAogICAgLy/noa7orqTlj5bmtogKICAgIGNvbmZvcm1EZWxldGU6IGZ1bmN0aW9uIGNvbmZvcm1EZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5wb3N0KCIvZm9jdXMvZGVsZXRlRm9jdXNCeUlkIiwgZm9jdXNJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmxvYWREYXRhKCk7CgogICAgICAgIF90aGlzMi5kaWFsb2dGb3JtVmlzaWJsZUZvckRlbGV0ZSA9IGZhbHNlOwogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5oiQ5YqfJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+W9k+mhteeggeaUueWPmOaXtgogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9Cn07"},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/user/MyFocus.vue"],"names":[],"mappings":";;;;;;AAoCA,OAAO,OAAP,MAAoB,qBAApB;AACA,SAAQ,SAAR,QAAwB,cAAxB;AACA,IAAI,SAAJ;AACA,IAAI,OAAJ;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,EADN;AAIL,MAAA,KAAK,EAAE,CAJF;AAKL,MAAA,WAAW,EAAE,CALR;AAML,MAAA,QAAQ,EAAE,CANL;AAOL,MAAA,0BAA0B,EAAE;AAPvB,KAAP;AASD,GAZY;AAab,EAAA,OAAO,EAAE;AACP;AACA,IAAA,QAFO,sBAEI;AAAA;;AACT,UAAI,KAAI,GAAI,cAAc,CAAC,OAAf,CAAuB,WAAvB,CAAZ;AACA,UAAI,GAAE,GAAI,IAAI,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAV;AACA,MAAA,SAAQ,GAAI,KAAK,CAAC,OAAN,CAAc,GAAd,EAAmB,EAAnB,CAAZ,CAHS,CAG8B;;AACvC,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA8B;AAC5B,QAAA,MAAM,EAAE;AACN,UAAA,SAAS,EAAE,SADL;AAEN,UAAA,WAAW,EAAE,KAAK,WAFZ;AAGN,UAAA,QAAQ,EAAE,KAAK;AAHT;AADoB,OAA9B,EAMG,IANH,CAMQ,UAAA,GAAE,EAAI;AACZ,QAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,OAA1B;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB;AACD,OATD;AAUD,KAhBM;AAiBP;AACA,IAAA,MAlBO,mBAkBA,EAlBA,EAkBI;AACT,WAAK,0BAAL,GAAkC,IAAlC;AACA,MAAA,OAAM,GAAI,EAAV;AACD,KArBM;AAsBP;AACA,IAAA,aAvBO,2BAuBS;AAAA;;AACd,MAAA,OAAO,CAAC,IAAR,CAAa,wBAAb,EAAsC,OAAtC,EAA+C,IAA/C,CAAoD,UAAA,GAAE,EAAI;AACxD,QAAA,MAAI,CAAC,QAAL;;AACA,QAAA,MAAI,CAAC,0BAAL,GAAkC,KAAlC;AACA,QAAA,SAAS,CAAC;AACR,UAAA,IAAI,EAAE,SADE;AAER,UAAA,OAAO,EAAE;AAFD,SAAD,CAAT;AAID,OAPD;AAQD,KAhCM;AAiCP;AACA,IAAA,mBAlCO,iCAkCe;AACpB,WAAK,QAAL;AACF;AApCO,GAbI;AAmDb,EAAA,OAnDa,qBAmDH;AACR,SAAK,QAAL;AACF;AArDa,CAAf","sourcesContent":["<template>\n  <div class=\"dF\">\n    <el-table :data=\"tableData\" border class=\"el1\">\n      <el-table-column prop=\"userTo\" label=\"用户邮箱\" width=\"\" align=\"center\" />\n      <el-table-column prop=\"petname\" label=\"用户昵称\" width=\"\" align=\"center\" />\n      <el-table-column label=\"操作\" width=\"100\" align=\"center\" key=\"slot\">\n        <!--此处使用了插槽，来实现获得某行的对象-->\n        <template #default=\"scope\" >\n          <el-button type=\"text\" size=\"big\" @click=\"this.delete(scope.row.id)\">取消关注</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el2\">\n    </el-pagination>\n  </div>\n  <!--取消关注弹窗，点击取消时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForDelete\" title=\"取消关注\">\n    <span>是否确认取消关注该用户？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForDelete = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conformDelete()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nimport {ElMessage} from \"element-plus\";\nlet userEmail;\nlet focusId;\n\nexport default {\n  name: \"MyFocus\",\n  data() {\n    return {\n      tableData: [\n\n      ],\n      total: 0,\n      currentPage: 1,\n      pageSize: 5,\n      dialogFormVisibleForDelete: false,\n    }\n  },\n  methods: {\n    //加载数据\n    loadData() {\n      let email = sessionStorage.getItem(\"userEmail\")\n      let reg = new RegExp('\"', \"g\");\n      userEmail = email.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n      request.get(\"/focus_User/get\",{\n        params: {\n          userEmail: userEmail,\n          currentPage: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(res =>{\n        this.tableData = res.data.records;\n        this.total = res.data.total\n      })\n    },\n    //取消关注\n    delete(id) {\n      this.dialogFormVisibleForDelete = true\n      focusId = id\n    },\n    //确认取消\n    conformDelete() {\n      request.post(\"/focus/deleteFocusById\",focusId).then(res =>{\n        this.loadData()\n        this.dialogFormVisibleForDelete = false\n        ElMessage({\n          type: 'success',\n          message: '取消成功'\n        })\n      })\n    },\n    //当页码改变时\n    handleCurrentChange() {\n      this.loadData()\n    }\n  },\n  created() {\n    this.loadData()\n  }\n}\n</script>\n\n<style scoped>\n.dF{\n  width: 90%;position: absolute;left: 5%;right: 5%;margin-top: 50px;\n}\n.el1{\n  width: 100%;\n}\n.el2{\n  margin-top: 15px;\n}\n</style>"],"sourceRoot":""}]}