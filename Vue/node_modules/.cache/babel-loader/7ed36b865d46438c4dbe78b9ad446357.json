{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/layout/NewsContent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/layout/NewsContent.vue","mtime":1656056966137},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCAkIGZyb20gIi4uL2Fzc2V0cy9qcy9qcXVlcnktMy42LjAiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBIZWFkT2ZIb21lIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZE9mSG9tZSI7CmltcG9ydCBwcmludEpTIGZyb20gJ3ByaW50LWpzJzsKaW1wb3J0IGh0bWwyQ2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKdmFyIG5ld3NJZDsKdmFyIG5ld3NBdXRob3I7CnZhciB1c2VyRW1haWw7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTmV3c0NvbnRlbnQiLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRPZkhvbWU6IEhlYWRPZkhvbWUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib3lIZWFkQXV0aG9yOiBmYWxzZSwKICAgICAgZ2lybEhlYWRBdXRob3I6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIGN1cnJlbnRQYWdlOiAxCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkQ29tbWVudERhdGEoKTsKICAgIH0sCiAgICAvL+WKoOi9veaWsOmXu+WGheWuueaVsOaNrgogICAgbG9hZE5ld3NEYXRhOiBmdW5jdGlvbiBsb2FkTmV3c0RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBuZXdzSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5uZXdzSWQ7CiAgICAgIGNvbnNvbGUubG9nKG5ld3NJZCk7IC8v5L2/6K+l5paw6Ze755qE54K55Ye76YeP5YqgMQoKICAgICAgcmVxdWVzdC5wb3N0KCIvbmV3cy9pbmNyZWFzZU5ld3NDbGljayIsIG5ld3NJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVxdWVzdC5wb3N0KCIvbmV3c19Vc2VyL2dldE5ld3NCeUlkIiwgbmV3c0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICQoJyN0eXBlJykudGV4dChyZXMuZGF0YS50eXBlKTsKICAgICAgICAgICQoJyNoZWFkbGluZScpLnRleHQocmVzLmRhdGEuaGVhZGxpbmUpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5zZXggPT09ICLnlLciKSB7CiAgICAgICAgICAgIF90aGlzLmJveUhlYWRBdXRob3IgPSB0cnVlOwogICAgICAgICAgICBfdGhpcy5naXJsSGVhZEF1dGhvciA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuYm95SGVhZEF1dGhvciA9IGZhbHNlOwogICAgICAgICAgICBfdGhpcy5naXJsSGVhZEF1dGhvciA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgJCgnI2F1dGhvcicpLnRleHQocmVzLmRhdGEucGV0bmFtZSk7CiAgICAgICAgICAkKCcjZGF0ZScpLnRleHQobW9tZW50KHJlcy5kYXRhLmRhdGUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpKTsKICAgICAgICAgICQoJyNjb250ZW50JykuaHRtbChyZXMuZGF0YS5jb250ZW50KTsKICAgICAgICAgIG5ld3NBdXRob3IgPSByZXMuZGF0YS5hdXRob3I7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdvUHJpbnQ6IGZ1bmN0aW9uIGdvUHJpbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5pc1ByaW50ID0gdHJ1ZTsKICAgICAgaHRtbDJDYW52YXModGhpcy4kcmVmcy5wcmludCwgewogICAgICAgIGFsbG93VGFpbnQ6IHRydWUsCiAgICAgICAgdGFpbnRUZXN0OiBmYWxzZSwKICAgICAgICB1c2VDT1JTOiB0cnVlLAogICAgICAgIGRwaTogd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiA0LAogICAgICAgIHNjYWxlOiA0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgIHZhciB1cmwgPSBjYW52YXMudG9EYXRhVVJMKCk7CiAgICAgICAgcHJpbnRKUyh7CiAgICAgICAgICBwcmludGFibGU6IHVybCwKICAgICAgICAgIC8vIOimgeaJk+WNsOeahGlkCiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLAogICAgICAgICAgc3R5bGU6ICdAcGFnZXtzaXplOmF1dG87bWFyZ2luOiAwY20gMWNtIDBjbSAxY207fScgLy/ljrvpmaTpobXnnInpobXohJoKCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLmlzUHJpbnQgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkTmV3c0RhdGEoKTsKICAgIC8qCiAgICBsZXQgc3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckVtYWlsIikKICAgIGlmIChzdHI9PT1udWxsfHxzdHI9PT0iIikgewogICAgICB1c2VyRW1haWwgPSBzdHIKICAgIH1lbHNlIHsKICAgICAgbGV0IHJlZyA9IG5ldyBSZWdFeHAoJyInLCAiZyIpOwogICAgICB1c2VyRW1haWwgPSBzdHIucmVwbGFjZShyZWcsICIiKTsgICAgLy/mraPliJnooajovr7lvI/vvIzlsIblrZfnrKbkuLLkuKTnq6/nmoTlj4zlvJXlj7fljrvmjokKICAgIH0qLwogIH0KfTs="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/layout/NewsContent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!--头部-->\n  <HeadOfHome/>\n  <div class=\"dF\">\n    <!--新闻内容-->\n    <table class=\"t1\">\n      <tr class=\"tr1\">\n        <td colspan=\"2\" class=\"td1\">[<span id=\"type\"></span>]&nbsp;&nbsp;<span id=\"headline\"></span></td>\n      </tr>\n      <tr>\n        <td colspan=\"2\" id=\"content\"> </td>\n      </tr>\n    </table>\n    <!--分页组件-->\n    <div>\n      <el-button @click=\"goPrint\" style=\"margin-left: 100vh\">下载</el-button>\n    </div>\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el8\">\n    </el-pagination>\n  </div>\n  <el-backtop />\n</template>\n\n<script>\nimport request from \"../utils/request\";\nimport $ from \"../assets/js/jquery-3.6.0\";\nimport moment from \"moment\";\nimport HeadOfHome from \"../components/HeadOfHome\";\nimport printJS from 'print-js'\nimport html2Canvas from 'html2canvas'\nlet newsId;\nlet newsAuthor;\nlet userEmail;\nexport default {\n  name: \"NewsContent\",\n  components: {\n    HeadOfHome\n  },\n  data() {\n    return {\n      boyHeadAuthor: false,\n      girlHeadAuthor: false,\n      total: 0,\n      pageSize: 5,\n      currentPage: 1,\n    }\n  },\n  methods: {\n    handleCurrentChange() {\n      this.loadCommentData()\n    },\n    //加载新闻内容数据\n    loadNewsData() {\n      newsId = this.$route.query.newsId\n      console.log(newsId)\n      //使该新闻的点击量加1\n      request.post(\"/news/increaseNewsClick\",newsId).then(res =>{\n        request.post(\"/news_User/getNewsById\",newsId).then(res =>{\n          $('#type').text(res.data.type)\n          $('#headline').text(res.data.headline)\n         if (res.data.sex===\"男\") {\n            this.boyHeadAuthor = true\n            this.girlHeadAuthor = false\n          }else {\n            this.boyHeadAuthor = false\n            this.girlHeadAuthor = true\n          }\n          $('#author').text(res.data.petname)\n          $('#date').text(moment(res.data.date).format(\"YYYY-MM-DD\"))\n          $('#content').html(res.data.content)\n          newsAuthor = res.data.author\n        })\n      })\n    },\n    goPrint() {\n      this.isPrint = true\n      html2Canvas(this.$refs.print, {\n        allowTaint: true,\n        taintTest: false,\n        useCORS: true,\n        dpi: window.devicePixelRatio * 4,\n        scale: 4\n      }).then((canvas) => {\n        const url = canvas.toDataURL()\n        printJS({\n          printable: url, // 要打印的id\n          type: 'image',\n          style: '@page{size:auto;margin: 0cm 1cm 0cm 1cm;}' //去除页眉页脚\n        })\n        this.isPrint = false\n      })\n    }\n  },\n  created() {\n    this.loadNewsData()\n    /*\n    let str = sessionStorage.getItem(\"userEmail\")\n    if (str===null||str===\"\") {\n      userEmail = str\n    }else {\n      let reg = new RegExp('\"', \"g\");\n      userEmail = str.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n    }*/\n  }\n}\n</script>\n\n<style scoped>\n.el-table tbody tr:hover>td {\n  background-color:#ffffff!important\n}\n.dF{\n  position: absolute;height: 100vh;width: 60%;background: white;left: 18.8%;margin-top: 70px;padding-right: 1.2%;padding-left: 1.2%;box-shadow: 0 0 3px 3px #f3f3f3;\n}\n.t1{\n  width: 100%;\n}\n.tr1{\n  height: 80px;\n}\n.td1{\n  font-size: 22px\n}\n.tr2{\n  height: 60px;position: relative;top: -10px;left: 10px;\n}\n.td2{\n  width: 6%;\n}\n.boy{\n  height: 40px;width: 40px;border-radius: 20px;\n}\n.girl{\n  height: 40px;width: 40px;border-radius: 20px;\n}\n.el1{\n  text-decoration: none;color: red;font-size: 15px;\n}\n.el2{\n  text-decoration: none;color: red;font-size: 15px;\n}\n.t2{\n  width: 100%;height: 250px;\n}\n.td3{\n  text-align: center;padding-top: 30px;\n}\n.td4{\n  text-align: center;padding-top: 30px;\n}\n.el3{\n  width: 100%;\n}\n.t3{\n  width: 100%;\n}\n.tr3{\n  background: #fafafa;\n}\n.td5{\n  width: 15%;text-align: center;\n}\n.dS{\n  padding: 20px;\n}\n.im1{\n  height: 50px;width: 50px;padding: 15px;padding-bottom: 20px;\n}\n.sp1{\n  font-size: 15px;\n}\n.el4{\n  text-decoration: none;color: red;font-size: 13px;position: relative;top: 5px;\n}\n.el5{\n  text-decoration: none;color: red;font-size: 13px;position: relative;top: 8px;\n}\n.td6{\n  padding: 10px;\n}\n.tr4{\n  font-size: 12px;text-align: right;\n}\n.td7{\n  padding-bottom: 20px;\n}\n.t4{\n  width: 100%;\n}\n.tr5{\n  background: #fafafa;\n}\n.td8{\n  width: 15%;text-align: center;\n}\n.dT{\n  padding: 20px;\n}\n.im2{\n  height: 50px;width: 50px;padding: 15px;padding-bottom: 20px;\n}\n.sp2{\n  font-size: 15px;\n}\n.el6{\n  text-decoration: none;color: red;font-size: 13px;position: relative;top: 5px;\n}\n.el7{\n  text-decoration: none;color: red;font-size: 13px;position: relative;top: 8px;\n}\n.td9{\n  padding: 10px;\n}\n.tr6{\n  font-size: 12px;text-align: right;\n}\n.td10{\n  padding-bottom: 20px;\n}\n.el8{\n  margin-top: 70vh;\n}\n.d5{\n  text-align: center\n}\n.el9{\n  padding-top: 30px;padding-bottom: 30px;\n}\n.el10{\n  margin-bottom: 60px;\n}\n</style>"],"sourceRoot":""}]}