{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-13889ecc\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sp1\"\n}, \"提示：管理员降级后将恢复为用户\", -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sp2\"\n}, \"提示：0代表用户，1代表管理员，3代表待审核管理员\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"dF\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"降级\");\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"是否确认将该管理员降为用户？\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"dialog-footer\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"确定\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_table, {\n    data: $data.tableData,\n    border: \"\",\n    class: \"el1\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"email\",\n      label: \"邮箱\",\n      width: \"350\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"petname\",\n      label: \"昵称\",\n      width: \"\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"role\",\n      label: \"当前角色\",\n      width: \"150\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"150\",\n      align: \"center\",\n      key: \"slot\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"text\",\n        size: \"big\",\n        onClick: $event => this.downRole(scope.row)\n      }, {\n        default: _withCtx(() => [_hoisted_4]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\"]), _createCommentVNode(\"分页组件\"), _createVNode(_component_el_pagination, {\n    background: \"\",\n    layout: \"total, prev, pager, next\",\n    total: $data.total,\n    \"page-size\": $data.pageSize,\n    currentPage: $data.currentPage,\n    \"onUpdate:currentPage\": _cache[0] || (_cache[0] = $event => $data.currentPage = $event),\n    onCurrentChange: $options.handleCurrentChange,\n    class: \"el2\"\n  }, null, 8\n  /* PROPS */\n  , [\"total\", \"page-size\", \"currentPage\", \"onCurrentChange\"])]), _createCommentVNode(\"管理员降级弹窗，点击降级时才显示\"), _createVNode(_component_el_dialog, {\n    modelValue: $data.dialogFormVisibleForDownRole,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.dialogFormVisibleForDownRole = $event),\n    title: \"管理员降级\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_6, [_createVNode(_component_el_button, {\n      onClick: _cache[1] || (_cache[1] = $event => $data.dialogFormVisibleForDownRole = false)\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[2] || (_cache[2] = $event => $options.conform())\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\"])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;gEACEA,oBAAwC,MAAxC,EAAwC;EAAlCC,KAAK,EAAC;AAA4B,CAAxC,EAAkB,iBAAlB,EAAiC;AAAA;AAAjC;;gEACAD,oBAAkD,MAAlD,EAAkD;EAA5CC,KAAK,EAAC;AAAsC,CAAlD,EAAkB,2BAAlB,EAA2C;AAAA;AAA3C;;;EACKA,KAAK,EAAC;;;iDAQiE;;gEAiB1ED,oBAA2B,MAA3B,EAA2B,IAA3B,EAAM,gBAAN,EAAoB;AAAA;AAApB;;;EAEQC,KAAK,EAAC;;;iDAC+C;;iDACZ;;;;;;;;;;;;;6DA/BnDC,YACAC,YACAH,oBAsBM,KAtBN,cAsBM,CArBJI,aAUWC,mBAVX,EAUW;IAVAC,IAAI,EAAEC,eAUN;IAViBC,MAAM,EAAN,EAUjB;IAVwBP,KAAK,EAAC;EAU9B,CAVX;sBACE,MAAsE,CAAtEG,aAAsEK,0BAAtE,EAAsE;MAArDC,IAAI,EAAC,OAAgD;MAAxCC,KAAK,EAAC,IAAkC;MAA7BC,KAAK,EAAC,KAAuB;MAAjBC,KAAK,EAAC;IAAW,CAAtE,CAAsE,EACtET,aAAqEK,0BAArE,EAAqE;MAApDC,IAAI,EAAC,SAA+C;MAArCC,KAAK,EAAC,IAA+B;MAA1BC,KAAK,EAAC,EAAoB;MAAjBC,KAAK,EAAC;IAAW,CAArE,CADsE,EAEtET,aAAuEK,0BAAvE,EAAuE;MAAtDC,IAAI,EAAC,MAAiD;MAA1CC,KAAK,EAAC,MAAoC;MAA7BC,KAAK,EAAC,KAAuB;MAAjBC,KAAK,EAAC;IAAW,CAAvE,CAFsE,EAGtET,aAKkBK,0BALlB,EAKkB;MALDE,KAAK,EAAC,IAKL;MALUC,KAAK,EAAC,KAKhB;MALsBC,KAAK,EAAC,QAK5B;MALqCC,GAAG,EAAC;IAKzC,CALlB;MAEaC,OAAO,WAAEC,KAClB,IADuB,CACvBZ,aAAkFa,oBAAlF,EAAkF;QAAvEC,IAAI,EAAC,MAAkE;QAA3DC,IAAI,EAAC,KAAsD;QAA/CC,OAAK,iBAAOC,QAAP,CAAgBL,KAAK,CAACM,GAAtB;MAA0C,CAAlF;0BAAoE,MAAE;;;;OAAtE;;MAAA,cADuB,CAAP;;;;KAFpB,CAHsE;;;;GADxE;;EAAA,WAqBI,EAVJC,2BAUI,EATJnB,aAQgBoB,wBARhB,EAQgB;IAPZC,UAAU,EAAV,EAOY;IANZC,MAAM,EAAC,0BAMK;IALXC,KAAK,EAAEpB,WAKI;IAJX,aAAWA,cAIA;IAHJqB,WAAW,EAAErB,iBAGT;gEAHSA,oBAAWsB,OAGpB;IAFXC,eAAc,EAAEC,4BAEL;IADZ9B,KAAK,EAAC;EACM,CARhB;;EAAA,2DASI,CAtBN,GAuBAsB,yCACAnB,aAQY4B,oBARZ,EAQY;gBARQzB,kCAQR;+DARQA,qCAA4BsB,OAQpC;IARsCI,KAAK,EAAC;EAQ5C,CARZ;IAEaC,MAAM,WACf,MAGO,CAHPlC,oBAGO,MAHP,cAGO,CAFLI,aAAuEa,oBAAvE,EAAuE;MAA3DG,OAAK,sCAAEb,qCAA4B,KAA9B;IAAsD,CAAvE;wBAAyD,MAAE;;;;KAA3D,CAEK,EADLH,aAA2Da,oBAA3D,EAA2D;MAAhDC,IAAI,EAAC,SAA2C;MAAhCE,OAAK,sCAAEW,kBAAF;IAA2B,CAA3D;wBAA6C,MAAE;;;;KAA/C,CACK,CAHP,CAGO,CAJQ;sBADjB,MAA2B,CAA3BI,UAA2B;;;;GAD7B;;EAAA","names":["_createElementVNode","class","_hoisted_1","_hoisted_2","_createVNode","_component_el_table","data","$data","border","_component_el_table_column","prop","label","width","align","key","default","scope","_component_el_button","type","size","onClick","downRole","row","_createCommentVNode","_component_el_pagination","background","layout","total","currentPage","$event","onCurrentChange","$options","_component_el_dialog","title","footer","_hoisted_5"],"sourceRoot":"","sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/superAdmin/AdminList.vue"],"sourcesContent":["<template>\n  <span class=\"sp1\">提示：管理员降级后将恢复为用户</span>\n  <span class=\"sp2\">提示：0代表用户，1代表管理员，3代表待审核管理员</span>\n  <div class=\"dF\">\n    <el-table :data=\"tableData\" border class=\"el1\">\n      <el-table-column prop=\"email\" label=\"邮箱\" width=\"350\" align=\"center\" />\n      <el-table-column prop=\"petname\" label=\"昵称\" width=\"\" align=\"center\" />\n      <el-table-column prop=\"role\" label=\"当前角色\" width=\"150\" align=\"center\" />\n      <el-table-column label=\"操作\" width=\"150\" align=\"center\" key=\"slot\">\n        <!--此处使用了插槽，来实现获得某行的对象-->\n        <template #default=\"scope\" >\n          <el-button type=\"text\" size=\"big\" @click=\"this.downRole(scope.row)\">降级</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el2\">\n    </el-pagination>\n  </div>\n  <!--管理员降级弹窗，点击降级时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForDownRole\" title=\"管理员降级\">\n    <span>是否确认将该管理员降为用户？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForDownRole = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conform()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nlet rowForEdit;\n\nexport default {\n  name: \"AdminList\",\n  data() {\n    return {\n      tableData:[\n\n      ],\n      /*\n          分页插件的三个基本参数为total，pageSize，currentPage，\n          其中加载数据时需要将pageSize和currentPage传到后端，\n          结合Mybatis-plus中的分页插件便可以实现分页查询\n       */\n      total: 0,        //总条数，从后端获取\n      pageSize: 5,     //每页显示的条数\n      currentPage: 1,  //当前所在页\n      dialogFormVisibleForDownRole: false\n    }\n  },\n  methods: {\n    //加载表格数据（结合分页操作，因此加载数据时需要将pageSize和currentPage传到后端）\n    loadData() {\n      request.get(\"/user/getAllUserAdmin\",{\n        params: {\n          pageSize: this.pageSize,\n          currentPage: this.currentPage\n        }\n      }).then(res =>{\n        this.total = res.data.total  //返回总条数\n        this.tableData = res.data.records\n      })\n    },\n    //管理员降级\n    downRole(row) {\n      rowForEdit = row\n      this.dialogFormVisibleForDownRole = true\n    },\n    //确认降级\n    conform() {\n      request.post(\"/user/downRole\",rowForEdit.email).then(res =>{\n        this.loadData()\n        this.dialogFormVisibleForDownRole = false\n      })\n    },\n    //当前页码改变（例如点击下一页、上一页等操作）\n    handleCurrentChange(){\n      //重新加载数据\n      this.loadData()\n    }\n  },\n  created() {\n    this.loadData()\n  }\n}\n</script>\n\n<style scoped>\n.sp1{\n  position: absolute;margin-top: 50px;left: 5%;font-size: 13px;color: red;\n}\n.sp2{\n  position: absolute;margin-top: 70px;left: 5%;font-size: 13px;color: red;\n}\n.dF{\n  width: 90%;position: absolute;left: 5%;right: 5%;margin-top: 100px;\n}\n.el1{\n  width: 100%;\n}\n.el2{\n  margin-top: 15px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}