{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/photo/logo.png';\nimport _imports_1 from '../assets/photo/boy.png';\nimport _imports_2 from '../assets/photo/girl.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-016a0486\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"divF5\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  class: \"img1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"搜索\");\n\nconst _hoisted_4 = {\n  key: 0,\n  class: \"div2\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  src: _imports_1,\n  alt: \"\",\n  class: \"img2\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  src: _imports_2,\n  alt: \"\",\n  class: \"img2\"\n};\nconst _hoisted_7 = {\n  class: \"el-dropdown-link\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  id: \"petname\",\n  class: \"span1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"个人中心\");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"退出\");\n\nconst _hoisted_11 = {\n  key: 1,\n  class: \"div3\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"登录/注册\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_arrow_down = _resolveComponent(\"arrow-down\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createVNode(_component_el_input, {\n    modelValue: $data.searchContent,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchContent = $event),\n    placeholder: \"搜索网站内容\",\n    class: \"el1\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createVNode(_component_el_button, {\n    type: \"primary\",\n    class: \"el2\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.search())\n  }, {\n    default: _withCtx(() => [_hoisted_3]),\n    _: 1\n    /* STABLE */\n\n  }), _createCommentVNode(\"登录状态显示\"), $data.loginVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [$data.boyHead ? (_openBlock(), _createElementBlock(\"img\", _hoisted_5)) : _createCommentVNode(\"v-if\", true), $data.girlHead ? (_openBlock(), _createElementBlock(\"img\", _hoisted_6)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"下拉菜单\"), _createVNode(_component_el_dropdown, {\n    class: \"el3\"\n  }, {\n    dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n      default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n        onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.push('/userHome'))\n      }, {\n        default: _withCtx(() => [_hoisted_9]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_dropdown_item, {\n        onClick: _cache[3] || (_cache[3] = $event => $options.logout())\n      }, {\n        default: _withCtx(() => [_hoisted_10]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_7, [_hoisted_8, _createVNode(_component_el_icon, {\n      class: \"el-icon--right\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_arrow_down, {\n        class: \"arrow1\"\n      })]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"未登录状态显示\"), $data.notLoginVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_router_link, {\n    to: \"/userLogin\",\n    class: \"link1\"\n  }, {\n    default: _withCtx(() => [_hoisted_12]),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";OAESA,gBAA8B;OAKbC,gBAA6B;OAC5BC,gBAA8B;;;;;EAPlDC,KAAK,EAAC;;;gEACTC,oBAAwD,KAAxD,EAAwD;EAAnDC,GAA8B,EAA9BL,UAAmD;EAApBM,GAAG,EAAC,EAAgB;EAAbH,KAAK,EAAC;AAAO,CAAxD;;AAAA;;iDAEwD;;;;EAE/BA,KAAK,EAAC;;;;EACTE,GAA6B,EAA7BJ;EAA8BK,GAAG,EAAC;EAAGH,KAAK,EAAC;;;;EAC1CE,GAA8B,EAA9BH;EAA+BI,GAAG,EAAC;EAAGH,KAAK,EAAC;;;EAGzDA,KAAK,EAAC;;;gEACVC,oBAAwC,MAAxC,EAAwC;EAAlCG,EAAE,EAAC,SAA+B;EAArBJ,KAAK,EAAC;AAAe,CAAxC;;AAAA;;iDAOuD;;kDACjB;;;;EAMhBA,KAAK,EAAC;;;kDACW;;;;;;;;;;;;;;;;;;;uBA1B/CK,oBA4BM,KA5BN,cA4BM,CA3BJC,UA2BI,EA1BJC,aAAqEC,mBAArE,EAAqE;gBAAlDC,mBAAkD;+DAAlDA,sBAAaC,OAAqC;IAAnCC,WAAW,EAAC,QAAuB;IAAbX,KAAK,EAAC;EAAO,CAArE;;EAAA,iBA0BI,EAzBJO,aAAsEK,oBAAtE,EAAsE;IAA3DC,IAAI,EAAC,SAAsD;IAA5Cb,KAAK,EAAC,KAAsC;IAA/Bc,OAAK,sCAAEC,iBAAF;EAA0B,CAAtE;sBAAwD,MAAE;;;;GAA1D,CAyBI,EAxBJC,6BAwBI,EAvBOP,oCAAXJ,oBAkBM,KAlBN,cAkBM,CAjBOI,+BAAXJ,oBAAsE,KAAtE,kDAiBI,EAhBOI,gCAAXJ,oBAAwE,KAAxE,kDAgBI,EAfJW,2BAeI,EAdJT,aAacU,sBAbd,EAac;IAbDjB,KAAK,EAAC;EAaL,CAbd,EAAwB;IAOXkB,QAAQ,WACjB,MAGmB,CAHnBX,aAGmBY,2BAHnB,EAGmB,IAHnB,EAGmB;wBAFjB,MAA4E,CAA5EZ,aAA4Ea,2BAA5E,EAA4E;QAAzDN,OAAK,sCAAEO,aAAQC,IAAR,CAAY,WAAZ,CAAF;MAAoD,CAA5E;0BAAqD,MAAI;;;;OAAzD,CAA4E,EAC5Ef,aAAyDa,2BAAzD,EAAyD;QAAtCN,OAAK,sCAAEC,iBAAF;MAAiC,CAAzD;0BAAoC,MAAE;;;;OAAtC,CAD4E,EAE3D;;;;IAAA,CAHnB,CAGmB,CAJF,CAPG;sBACtB,MAKO,CALPd,oBAKO,MALP,cAKO,CAJLsB,UAIK,EAHLhB,aAEUiB,kBAFV,EAEU;MAFDxB,KAAK,EAAC;IAEL,CAFV,EAA+B;wBAC7B,MAA6B,CAA7BO,aAA6BkB,qBAA7B,EAA6B;QAAjBzB,KAAK,EAAC;MAAW,CAA7B,CAA6B,EADA;;;;IAAA,CAA/B,CAGK,CALP,CAKO,EANe;;;;EAAA,CAAxB,CAcI,CAlBN,sCAuBI,EAJJgB,8BAII,EAHOP,uCAAXJ,oBAEM,KAFN,eAEM,CADJE,aAA8DmB,sBAA9D,EAA8D;IAAjDC,EAAE,EAAC,YAA8C;IAAjC3B,KAAK,EAAC;EAA2B,CAA9D;sBAA2C,MAAK;;;;GAAhD,CACI,CAFN,sCAGI,CA5BN","names":["_imports_0","_imports_1","_imports_2","class","_createElementVNode","src","alt","id","_createElementBlock","_hoisted_2","_createVNode","_component_el_input","$data","$event","placeholder","_component_el_button","type","onClick","$options","_createCommentVNode","_component_el_dropdown","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","_ctx","push","_hoisted_8","_component_el_icon","_component_arrow_down","_component_router_link","to"],"sourceRoot":"","sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/components/HeadOfHome.vue"],"sourcesContent":["<template>\n  <div class=\"divF5\">\n    <img src=\"../assets/photo/logo.png\" alt=\"\" class=\"img1\">\n    <el-input v-model=\"searchContent\" placeholder=\"搜索网站内容\"  class=\"el1\"/>\n    <el-button type=\"primary\" class=\"el2\" @click=\"search()\">搜索</el-button>\n    <!--登录状态显示-->\n    <div v-if=\"loginVisible\" class=\"div2\">\n      <img v-if=\"boyHead\" src=\"../assets/photo/boy.png\" alt=\"\" class=\"img2\">\n      <img v-if=\"girlHead\" src=\"../assets/photo/girl.png\" alt=\"\" class=\"img2\">\n      <!--下拉菜单-->\n      <el-dropdown class=\"el3\">\n        <span class=\"el-dropdown-link\">\n          <span id=\"petname\" class=\"span1\"></span>\n          <el-icon class=\"el-icon--right\">\n            <arrow-down class=\"arrow1\" />\n          </el-icon>\n        </span>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item @click=\"$router.push('/userHome')\">个人中心</el-dropdown-item>\n            <el-dropdown-item @click=\"logout()\">退出</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </div>\n    <!--未登录状态显示-->\n    <div v-if=\"notLoginVisible\" class=\"div3\">\n      <router-link to=\"/userLogin\" class=\"link1\">登录/注册</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {ArrowDown} from \"@element-plus/icons\";\nimport request from \"../utils/request\";\nimport $ from \"../assets/js/jquery-3.6.0\";\nimport {ElMessage} from \"element-plus\";\n\nlet email;\n\nexport default {\n  name: \"HeadOfHome\",\n  components: {\n    ArrowDown,\n  },\n  data() {\n    return {\n      searchContent: '',\n      loginVisible: false,\n      notLoginVisible: false,\n      boyHead: false,\n      girlHead: false\n    }\n  },\n  methods: {\n    //退出登录\n    logout() {\n      sessionStorage.removeItem(\"userEmail\")\n      this.$router.push('/')\n      this.loginVisible = false\n      this.notLoginVisible = true\n    },\n    //加载时判断是否登录\n    loadLoginStateAndPetname() {\n      let userEmail = sessionStorage.getItem(\"userEmail\")\n      if (userEmail===null||userEmail==='') {   //说明未登录\n        this.notLoginVisible = true\n        this.loginVisible = false\n        email = userEmail\n      }else {\n        this.notLoginVisible = false\n        this.loginVisible = true\n        let reg = new RegExp('\"', \"g\");\n        let newStr = userEmail.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n        email = newStr\n        request.post(\"/user/get\",newStr).then(res =>{\n          $('#petname').text(res.data.petname)\n          if (res.data.sex===\"女\") {\n            this.girlHead = true\n            this.boyHead = false\n          }else {\n            this.girlHead = false\n            this.boyHead = true\n          }\n        })\n      }\n    },\n    //搜索\n    search() {\n      if (this.searchContent===null||this.searchContent==='') {\n        ElMessage({\n          type: 'warning',\n          message: '搜索内容不能为空'\n        })\n      }else if (email===null||email===\"\") {\n        this.$router.push({\n          path: '/searchResult',\n          query: {\n            searchContent: this.searchContent\n          }\n        })\n      }else {\n        request.get(\"/search/saveUserSearchContent\",{\n          params: {\n            userEmail: email,\n            searchContent: this.searchContent\n          }\n        }).then(res =>{\n          this.$router.push({\n            path: '/searchResult',\n            query: {\n              searchContent: this.searchContent\n            }\n          })\n        })\n      }\n    }\n  },\n  created() {\n    document.body.style.backgroundColor=\"#f6f6f6\";  //设置背景色\n    this.loadLoginStateAndPetname()\n  }\n}\n</script>\n\n<style scoped>\n.divF5{\n  background: white;height: 50px;width: 100%;border-bottom: 1.5px #f0f0f0 solid;position: absolute;margin-top: 0;\n}\n.img1{\n  position: absolute;height: 65%;top: 50%;transform: translate(-50%,-50%);left: 20%;\n}\n.el1{\n  position: absolute;width: 23%;height: 40px;transform: translate(-50%,-50%);left: 48%;top: 50%;\n}\n.el2{\n  position: absolute;width: 70px;height: 40px;transform: translate(-50%, -50%);left: 65%;top: 50%;\n}\n.div2{\n  position: absolute;width: 20%;height: 40px;transform: translate(-50%,-50%);top: 50%;left: 80%;text-align: center;\n}\n.img2{\n  height: 40px;width: 40px;margin-left: -10px;\n}\n.el3{\n  position: absolute;transform: translate(-50%,-50%);left: 80%;top: 50%;font-size: 16px;width: 150px;text-align: center;\n}\n.span1{\n  font-size: 15px;\n}\n.arrow1{\n  position: relative;top: 3px;\n}\n.div3{\n  position: absolute;transform: translate(-50%, -50%);left: 80%;top: 50%;font-size: 16px;width: 100px;text-align: center;\n}\n.link1{\n  color:black;\n}\n</style>"]},"metadata":{},"sourceType":"module"}