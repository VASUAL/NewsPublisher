{"ast":null,"code":"import { ArrowDown } from '@element-plus/icons';\nimport request from \"../utils/request\";\nimport $ from '../assets/js/jquery-3.6.0';\nexport default {\n  name: \"HeadOfUser\",\n  components: {\n    ArrowDown\n  },\n\n  data() {\n    return {\n      ArrowDown\n    };\n  },\n\n  methods: {\n    //加载用户昵称\n    loadPetName() {\n      /*\n        此处有一个易错点，post请求中的参数是不能带双引号的，否则请求失败\n        而sessionStorage中取出的变量是带双引号的，因此需要使用正则表达式去掉引号\n       */\n      let userEmail = sessionStorage.getItem(\"userEmail\"); //从session中取出\n\n      let reg = new RegExp('\"', \"g\");\n      let newStr = userEmail.replace(reg, \"\"); //正则表达式，将字符串两端的双引号去掉\n\n      request.post(\"/user/get\", newStr).then(res => {\n        $('#petname').text(res.data.petname);\n      });\n    },\n\n    //绑定退出登录按键功能\n    logout() {\n      sessionStorage.removeItem(\"userEmail\"); //移除session\n\n      this.$router.push('/'); //跳转到欢迎页\n    }\n\n  },\n\n  created() {\n    document.body.style.backgroundColor = \"#ffffff\"; //设置背景色\n\n    this.loadPetName();\n  }\n\n};","map":{"version":3,"mappings":"AAuBA,SAASA,SAAT,QAA0B,qBAA1B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,CAAP,MAAc,2BAAd;AAEA,eAAe;EACbC,IAAI,EAAE,YADO;EAEbC,UAAU,EAAE;IACVJ;EADU,CAFC;;EAKbK,IAAI,GAAG;IACL,OAAO;MACLL;IADK,CAAP;EAGD,CATY;;EAUbM,OAAO,EAAE;IACP;IACAC,WAAW,GAAG;MAEZ;;;;MAKA,IAAIC,SAAQ,GAAIC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAhB,CAPY,CAO2C;;MACvD,IAAIC,GAAE,GAAI,IAAIC,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAV;MACA,IAAIC,MAAK,GAAIL,SAAS,CAACM,OAAV,CAAkBH,GAAlB,EAAuB,EAAvB,CAAb,CATY,CASgC;;MAC5CV,OAAO,CAACc,IAAR,CAAa,WAAb,EAAyBF,MAAzB,EAAiCG,IAAjC,CAAsCC,GAAE,IAAI;QAC1Cf,CAAC,CAAC,UAAD,CAAD,CAAcgB,IAAd,CAAmBD,GAAG,CAACZ,IAAJ,CAASc,OAA5B;MACD,CAFD;IAGD,CAfM;;IAiBP;IACAC,MAAM,GAAG;MACPX,cAAc,CAACY,UAAf,CAA0B,WAA1B,EADO,CACmC;;MAC1C,KAAKC,OAAL,CAAaC,IAAb,CAAkB,GAAlB,EAFO,CAEkB;IAC1B;;EArBM,CAVI;;EAiCbC,OAAO,GAAG;IACRC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,eAApB,GAAoC,SAApC,CADQ,CACwC;;IAChD,KAAKrB,WAAL;EAEF;;AArCa,CAAf","names":["ArrowDown","request","$","name","components","data","methods","loadPetName","userEmail","sessionStorage","getItem","reg","RegExp","newStr","replace","post","then","res","text","petname","logout","removeItem","$router","push","created","document","body","style","backgroundColor"],"sourceRoot":"","sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/components/HeadOfUser.vue"],"sourcesContent":["<template>\n  <div class=\"divF6\">\n    <img src=\"../assets/photo/logo.png\" alt=\"\" class=\"img1\">\n    <p class=\"p1\">个人中心</p>\n    <!--下拉菜单-->\n    <el-dropdown class=\"el1\">\n    <span class=\"el-dropdown-link\">\n      <span id=\"petname\"></span>\n      <el-icon class=\"el-icon--right\">\n        <arrow-down class=\"arrow1\" />\n      </el-icon>\n    </span>\n      <template #dropdown>\n        <el-dropdown-menu>\n          <el-dropdown-item @click=\"$router.push('/')\">返回首页</el-dropdown-item>\n          <el-dropdown-item @click=\"logout()\">退出</el-dropdown-item>\n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n  </div>\n</template>\n\n<script>\nimport { ArrowDown } from '@element-plus/icons'\nimport request from \"../utils/request\";\nimport $ from '../assets/js/jquery-3.6.0';\n\nexport default {\n  name: \"HeadOfUser\",\n  components: {\n    ArrowDown\n  },\n  data() {\n    return {\n      ArrowDown,\n    }\n  },\n  methods: {\n    //加载用户昵称\n    loadPetName() {\n\n      /*\n        此处有一个易错点，post请求中的参数是不能带双引号的，否则请求失败\n        而sessionStorage中取出的变量是带双引号的，因此需要使用正则表达式去掉引号\n       */\n\n      let userEmail = sessionStorage.getItem(\"userEmail\");   //从session中取出\n      let reg = new RegExp('\"', \"g\");\n      let newStr = userEmail.replace(reg, \"\");    //正则表达式，将字符串两端的双引号去掉\n      request.post(\"/user/get\",newStr).then(res =>{\n        $('#petname').text(res.data.petname)\n      })\n    },\n\n    //绑定退出登录按键功能\n    logout() {\n      sessionStorage.removeItem(\"userEmail\");   //移除session\n      this.$router.push('/');  //跳转到欢迎页\n    },\n  },\n  created() {\n    document.body.style.backgroundColor=\"#ffffff\";  //设置背景色\n    this.loadPetName()\n\n  }\n}\n</script>\n\n<style scoped>\n.divF6{\n  height: 50px;width: 100%;border-bottom: 1.5px #f0f0f0 solid;position: absolute;margin-top: 0;\n}\n.img1{\n  position: absolute;height: 65%;top: 50%;transform: translate(-50%,-50%);left: 10%;\n}\n.p1{\n  text-decoration: none;position: absolute;left: 26%;top: 50%;transform: translate(-50%, -50%);color: #409eff;font-size: 23px;\n}\n.el1{\n  position: absolute;transform: translate(-50%,-50%);left: 80%;top: 50%;font-size: 16px;\n}\n.arrow1{\n  position: relative;top: 3px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}