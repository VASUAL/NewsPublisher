{"remainingRequest":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wangjin/Desktop/newspublisher/Vue/src/views/superAdmin/AdminList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangjin/Desktop/newspublisher/Vue/src/views/superAdmin/AdminList.vue","mtime":1655214222608},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/babel.config.js","mtime":1655079911438},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjin/Desktop/newspublisher/Vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vLi4vdXRpbHMvcmVxdWVzdCI7CnZhciByb3dGb3JFZGl0OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkbWluTGlzdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCgogICAgICAvKgogICAgICAgICAg5YiG6aG15o+S5Lu255qE5LiJ5Liq5Z+65pys5Y+C5pWw5Li6dG90YWzvvIxwYWdlU2l6Ze+8jGN1cnJlbnRQYWdl77yMCiAgICAgICAgICDlhbbkuK3liqDovb3mlbDmja7ml7bpnIDopoHlsIZwYWdlU2l6ZeWSjGN1cnJlbnRQYWdl5Lyg5Yiw5ZCO56uv77yMCiAgICAgICAgICDnu5PlkIhNeWJhdGlzLXBsdXPkuK3nmoTliIbpobXmj5Lku7bkvr/lj6/ku6Xlrp7njrDliIbpobXmn6Xor6IKICAgICAgICovCiAgICAgIHRvdGFsOiAwLAogICAgICAvL+aAu+adoeaVsO+8jOS7juWQjuerr+iOt+WPlgogICAgICBwYWdlU2l6ZTogNSwKICAgICAgLy/mr4/pobXmmL7npLrnmoTmnaHmlbAKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8v5b2T5YmN5omA5Zyo6aG1CiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlRm9yRG93blJvbGU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/liqDovb3ooajmoLzmlbDmja7vvIjnu5PlkIjliIbpobXmk43kvZzvvIzlm6DmraTliqDovb3mlbDmja7ml7bpnIDopoHlsIZwYWdlU2l6ZeWSjGN1cnJlbnRQYWdl5Lyg5Yiw5ZCO56uv77yJCiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmdldCgiL3VzZXIvZ2V0QWxsVXNlckFkbWluIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy/ov5Tlm57mgLvmnaHmlbAKCiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgfSk7CiAgICB9LAogICAgLy/nrqHnkIblkZjpmY3nuqcKICAgIGRvd25Sb2xlOiBmdW5jdGlvbiBkb3duUm9sZShyb3cpIHsKICAgICAgcm93Rm9yRWRpdCA9IHJvdzsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZUZvckRvd25Sb2xlID0gdHJ1ZTsKICAgIH0sCiAgICAvL+ehruiupOmZjee6pwogICAgY29uZm9ybTogZnVuY3Rpb24gY29uZm9ybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXF1ZXN0LnBvc3QoIi91c2VyL2Rvd25Sb2xlIiwgcm93Rm9yRWRpdC5lbWFpbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmxvYWREYXRhKCk7CgogICAgICAgIF90aGlzMi5kaWFsb2dGb3JtVmlzaWJsZUZvckRvd25Sb2xlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5b2T5YmN6aG156CB5pS55Y+Y77yI5L6L5aaC54K55Ye75LiL5LiA6aG144CB5LiK5LiA6aG1562J5pON5L2c77yJCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKCkgewogICAgICAvL+mHjeaWsOWKoOi9veaVsOaNrgogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/wangjin/Desktop/newspublisher/Vue/src/views/superAdmin/AdminList.vue"],"names":[],"mappings":"AAuCA,OAAO,OAAP,MAAoB,qBAApB;AACA,IAAI,UAAJ;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAC,EADL;;AAIL;AACI;AACA;AACA;AACH;AACD,MAAA,KAAK,EAAE,CATF;AASY;AACjB,MAAA,QAAQ,EAAE,CAVL;AAUY;AACjB,MAAA,WAAW,EAAE,CAXR;AAWY;AACjB,MAAA,4BAA4B,EAAE;AAZzB,KAAP;AAcD,GAjBY;AAkBb,EAAA,OAAO,EAAE;AACP;AACA,IAAA,QAFO,sBAEI;AAAA;;AACT,MAAA,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAoC;AAClC,QAAA,MAAM,EAAE;AACN,UAAA,QAAQ,EAAE,KAAK,QADT;AAEN,UAAA,WAAW,EAAE,KAAK;AAFZ;AAD0B,OAApC,EAKG,IALH,CAKQ,UAAA,GAAE,EAAI;AACZ,QAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB,CADY,CACiB;;AAC7B,QAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,OAA1B;AACD,OARD;AASD,KAZM;AAaP;AACA,IAAA,QAdO,oBAcE,GAdF,EAcO;AACZ,MAAA,UAAS,GAAI,GAAb;AACA,WAAK,4BAAL,GAAoC,IAApC;AACD,KAjBM;AAkBP;AACA,IAAA,OAnBO,qBAmBG;AAAA;;AACR,MAAA,OAAO,CAAC,IAAR,CAAa,gBAAb,EAA8B,UAAU,CAAC,KAAzC,EAAgD,IAAhD,CAAqD,UAAA,GAAE,EAAI;AACzD,QAAA,MAAI,CAAC,QAAL;;AACA,QAAA,MAAI,CAAC,4BAAL,GAAoC,KAApC;AACD,OAHD;AAID,KAxBM;AAyBP;AACA,IAAA,mBA1BO,iCA0Bc;AACnB;AACA,WAAK,QAAL;AACF;AA7BO,GAlBI;AAiDb,EAAA,OAjDa,qBAiDH;AACR,SAAK,QAAL;AACF;AAnDa,CAAf","sourcesContent":["<template>\n  <span class=\"sp1\">提示：管理员降级后将恢复为用户</span>\n  <span class=\"sp2\">提示：0代表用户，1代表管理员，3代表待审核管理员</span>\n  <div class=\"dF\">\n    <el-table :data=\"tableData\" border class=\"el1\">\n      <el-table-column prop=\"email\" label=\"邮箱\" width=\"350\" align=\"center\" />\n      <el-table-column prop=\"petname\" label=\"昵称\" width=\"\" align=\"center\" />\n      <el-table-column prop=\"role\" label=\"当前角色\" width=\"150\" align=\"center\" />\n      <el-table-column label=\"操作\" width=\"150\" align=\"center\" key=\"slot\">\n        <!--此处使用了插槽，来实现获得某行的对象-->\n        <template #default=\"scope\" >\n          <el-button type=\"text\" size=\"big\" @click=\"this.downRole(scope.row)\">降级</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页组件-->\n    <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\"\n        @current-change=\"handleCurrentChange\"\n        class=\"el2\">\n    </el-pagination>\n  </div>\n  <!--管理员降级弹窗，点击降级时才显示-->\n  <el-dialog v-model=\"dialogFormVisibleForDownRole\" title=\"管理员降级\">\n    <span>是否确认将该管理员降为用户？</span>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisibleForDownRole = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"conform()\">确定</el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n\n<script>\nimport request from \"../../utils/request\";\nlet rowForEdit;\n\nexport default {\n  name: \"AdminList\",\n  data() {\n    return {\n      tableData:[\n\n      ],\n      /*\n          分页插件的三个基本参数为total，pageSize，currentPage，\n          其中加载数据时需要将pageSize和currentPage传到后端，\n          结合Mybatis-plus中的分页插件便可以实现分页查询\n       */\n      total: 0,        //总条数，从后端获取\n      pageSize: 5,     //每页显示的条数\n      currentPage: 1,  //当前所在页\n      dialogFormVisibleForDownRole: false\n    }\n  },\n  methods: {\n    //加载表格数据（结合分页操作，因此加载数据时需要将pageSize和currentPage传到后端）\n    loadData() {\n      request.get(\"/user/getAllUserAdmin\",{\n        params: {\n          pageSize: this.pageSize,\n          currentPage: this.currentPage\n        }\n      }).then(res =>{\n        this.total = res.data.total  //返回总条数\n        this.tableData = res.data.records\n      })\n    },\n    //管理员降级\n    downRole(row) {\n      rowForEdit = row\n      this.dialogFormVisibleForDownRole = true\n    },\n    //确认降级\n    conform() {\n      request.post(\"/user/downRole\",rowForEdit.email).then(res =>{\n        this.loadData()\n        this.dialogFormVisibleForDownRole = false\n      })\n    },\n    //当前页码改变（例如点击下一页、上一页等操作）\n    handleCurrentChange(){\n      //重新加载数据\n      this.loadData()\n    }\n  },\n  created() {\n    this.loadData()\n  }\n}\n</script>\n\n<style scoped>\n.sp1{\n  position: absolute;margin-top: 50px;left: 5%;font-size: 13px;color: red;\n}\n.sp2{\n  position: absolute;margin-top: 70px;left: 5%;font-size: 13px;color: red;\n}\n.dF{\n  width: 90%;position: absolute;left: 5%;right: 5%;margin-top: 100px;\n}\n.el1{\n  width: 100%;\n}\n.el2{\n  margin-top: 15px;\n}\n</style>"],"sourceRoot":""}]}